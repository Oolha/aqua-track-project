import{r as l,a as E,b as $,j as s,L as k,f as T,u as I,s as L}from"./index-B_in8h0B.js";import{A as R}from"./AdvantagesSection-XkFE_1Sy.js";import{c as q,a as d,b as F,u as B,I as h,o as W}from"./yup-BOa-c6NZ.js";import{L as A,a as O}from"./Loader-BoRTRqJH.js";const C="_containerUp_14xhd_1",V="_formUp_14xhd_8",z="_titleUp_14xhd_19",H="_labelUp_14xhd_29",D="_inputWrapper_14xhd_39",M="_inputUp_14xhd_44",G="_icon_14xhd_64",J="_errorText_14xhd_80",K="_btnUp_14xhd_87",Q="_textUp_14xhd_107",X="_linkUp_14xhd_116",Y="_iconButton_14xhd_127",Z="_inputError_14xhd_139",ss="_notification_14xhd_152",es="_fadeInOut_14xhd_1",as="_error_14xhd_80",e={containerUp:C,formUp:V,titleUp:z,labelUp:H,inputWrapper:D,inputUp:M,icon:G,errorText:J,btnUp:K,textUp:Q,linkUp:X,iconButton:Y,inputError:Z,notification:ss,fadeInOut:es,error:as},ts=q().shape({email:d().email("Invalid email format").required("Email is required"),password:d().min(8,"Enter a real password!").max(50,"Too long").required("Password is required"),repeatPassword:d().min(8,"Enter a real password!").max(50,"Too long").oneOf([F("password"),null],"Passwords must match!").required("Password is required")});function rs(){const[n,_]=l.useState(!1),[i,w]=l.useState(!1),[p,o]=l.useState(null),U=E(),g=$(),j=()=>_(r=>!r),f=()=>w(r=>!r),{register:c,handleSubmit:b,formState:{errors:a},reset:N}=B({resolver:W(ts),mode:"onChange"}),y=async r=>{var m,u;const{email:P,password:S}=r;try{const t=await g(T({email:P,password:S})).unwrap();N(),U("/tracker")}catch(t){const v=(t==null?void 0:t.message)||"Failed to sign up. Please try again.";o({message:((u=(m=t==null?void 0:t.response)==null?void 0:m.data)==null?void 0:u.message)||"Registration failed. Please try again.",type:"error"}),setTimeout(()=>o(null),8e3),o(v),setTimeout(()=>o(null),5e3)}};return s.jsxs("div",{className:e.containerUp,children:[s.jsx(A,{}),s.jsxs("div",{className:e.formUp,children:[s.jsx("h2",{className:e.titleUp,children:"Sign Up"}),s.jsxs("form",{onSubmit:b(y),noValidate:!0,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:e.labelUp,children:"Email"}),s.jsx("input",{...c("email"),type:"email",name:"email",placeholder:"Enter your email",className:`${e.inputUp} ${a.email?e.inputError:""}`})]}),a.email&&s.jsx("p",{className:e.errorText,children:a.email.message}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:e.labelUp,children:"Password"}),s.jsxs("div",{className:e.inputWrapper,children:[s.jsx("input",{...c("password"),type:n?"text":"password",name:"password",placeholder:"Enter your password",className:`${e.inputUp} ${a.password?e.inputError:""}  `}),s.jsx("button",{className:e.iconButton,type:"button",onClick:j,"aria-label":i?"Hide repeat password":"Show repeat password",children:s.jsx(h,{className:e.icon,id:n?"icon-eye":"icon-eye-off",size:24})})]}),a.password&&s.jsx("p",{className:e.errorText,children:a.password.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:e.labelUp,children:"Repeat password"}),s.jsxs("div",{className:e.inputWrapper,children:[s.jsx("input",{...c("repeatPassword"),type:i?"text":"password",name:"repeatPassword",placeholder:"Repeat password",className:`${e.inputUp} ${a.repeatPassword?e.inputError:""}`}),s.jsx("button",{className:e.iconButton,type:"button",onClick:f,"aria-label":i?"Hide repeat password":"Show repeat password",children:s.jsx(h,{className:e.icon,id:i?"icon-eye":"icon-eye-off",size:24})})]}),a.repeatPassword&&s.jsx("p",{className:e.errorText,children:a.repeatPassword.message})]}),s.jsx("button",{type:"submit",className:e.btnUp,children:"Sign Up"})]}),p&&s.jsx("div",{className:`${e.notification} ${e[p.type]}`,children:p.message}),s.jsx("div",{children:s.jsxs("p",{className:e.textUp,children:["Already have account?"," ",s.jsx(k,{to:"/signin",className:e.linkUp,children:"Sign In"})]})})]})]})}const ns="_hidden_1sk8w_1",is="_signUp_1sk8w_11",x={hidden:ns,signUp:is};function ds(){const n=I(L);return s.jsxs("div",{className:x.signUp,children:[n&&s.jsx(O,{}),s.jsx(rs,{}),s.jsx("div",{className:x.hidden,children:s.jsx(R,{})})]})}export{ds as default};
//# sourceMappingURL=SignUpPage-DFVBqPJp.js.map
