{"version":3,"file":"SignUpPage-moDtdoUY.js","sources":["../../src/components/SignUp/SignUp.jsx","../../src/pages/SignUpPage/SignUpPage.jsx"],"sourcesContent":["import { Link, useNavigate } from 'react-router-dom';\nimport css from './SignUp.module.css';\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Icon } from '../Icon/Icon.jsx';\nimport * as Yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useForm } from 'react-hook-form';\nimport Logo from '../../components/Logo/Logo.jsx';\nimport { fetchSignUp } from '../../redux/auth/operations.js';\nimport { useTranslation } from 'react-i18next';\n\nconst schema = Yup.object().shape({\n  email: Yup.string()\n    .email('Invalid email format')\n    .required('Email is required'),\n  password: Yup.string()\n    .min(8, 'Enter a real password!')\n    .max(50, 'Too long')\n    .required('Password is required'),\n  repeatPassword: Yup.string()\n    .min(8, 'Enter a real password!')\n    .max(50, 'Too long')\n    .oneOf([Yup.ref('password'), null], 'Passwords must match!')\n    .required('Password is required'),\n});\n\nfunction SignUpForm() {\n  const { t } = useTranslation();\n  const [showPwd, setShowPwd] = useState(false);\n  const [showRepeatPwd, setShowRepeatPwd] = useState(false);\n  const [notification, setNotification] = useState(null);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const togglePwdVisibility = () => setShowPwd((prev) => !prev);\n  const toggleRepeatPwdVisibility = () => setShowRepeatPwd((prev) => !prev);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm({\n    resolver: yupResolver(schema),\n    mode: 'onChange',\n  });\n\n  const onSubmit = async (data) => {\n\n    const { email, password } = data;\n    try {\n      const result = await dispatch(fetchSignUp({ email, password })).unwrap();\n\n      reset();\n      navigate('/tracker');\n    } catch (error) {\n      const errorMessage =\n        error?.message || 'Failed to sign up. Please try again.';\n\n      setNotification({\n        message:\n          error?.response?.data?.message ||\n          'Registration failed. Please try again.',\n        type: 'error',\n      });\n\n      setTimeout(() => setNotification(null), 8000);\n\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(null), 5000);\n    }\n  };\n\n  return (\n    <div className={css.containerUp}>\n      <Logo />\n      <div className={css.formUp}>\n        <h2 className={css.titleUp}>{t('signUp.title')}</h2>\n        <form onSubmit={handleSubmit(onSubmit)} noValidate>\n          <div>\n            <label htmlFor=\"email\" className={css.labelUp}>\n              {t('signUp.email')}\n            </label>\n            <input\n              {...register('email')}\n              type=\"email\"\n              name=\"email\"\n              placeholder={t('signUp.placeholderEmail')}\n              className={`${css.inputUp} ${errors.email ? css.inputError : ''}`}\n            />\n          </div>\n          {errors.email && (\n            <p className={css.errorText}>{errors.email.message}</p>\n          )}\n\n          <div>\n            <label htmlFor=\"password\" className={css.labelUp}>\n              {t('signUp.password')}\n            </label>\n            <div className={css.inputWrapper}>\n              <input\n                {...register('password')}\n                type={showPwd ? 'text' : 'password'}\n                name=\"password\"\n                placeholder={t('signUp.placeholderPassword')}\n                className={`${css.inputUp} ${\n                  errors.password ? css.inputError : ''\n                }  `}\n              />\n\n              <button\n                className={css.iconButton}\n                type=\"button\"\n                onClick={togglePwdVisibility}\n                aria-label={\n                  showRepeatPwd\n                    ? 'Hide repeat password'\n                    : 'Show repeat password'\n                }\n              >\n                <Icon\n                  className={css.icon}\n                  id={showPwd ? 'icon-eye' : 'icon-eye-off'}\n                  size={24}\n                />\n              </button>\n            </div>\n            {errors.password && (\n              <p className={css.errorText}>{errors.password.message}</p>\n            )}\n          </div>\n          <div>\n            <label htmlFor=\"password\" className={css.labelUp}>\n              {t('signUp.placeholderRepeatPassword')}\n            </label>\n            <div className={css.inputWrapper}>\n              <input\n                {...register('repeatPassword')}\n                type={showRepeatPwd ? 'text' : 'password'}\n                name=\"repeatPassword\"\n                placeholder={t('signUp.placeholderRepeatPassword')}\n                className={`${css.inputUp} ${\n                  errors.repeatPassword ? css.inputError : ''\n                }`}\n              />\n\n              <button\n                className={css.iconButton}\n                type=\"button\"\n                onClick={toggleRepeatPwdVisibility}\n                aria-label={\n                  showRepeatPwd\n                    ? 'Hide repeat password'\n                    : 'Show repeat password'\n                }\n              >\n                <Icon\n                  className={css.icon}\n                  id={showRepeatPwd ? 'icon-eye' : 'icon-eye-off'}\n                  size={24}\n                />\n              </button>\n            </div>\n            {errors.repeatPassword && (\n              <p className={css.errorText}>{errors.repeatPassword.message}</p>\n            )}\n          </div>\n\n          <button type=\"submit\" className={css.btnUp}>\n            {t('signIn.signUp')}\n          </button>\n        </form>\n        {notification && <div className={css.notification}>{notification}</div>}\n        <div>\n          <p className={css.textUp}>\n            {t('signUp.account')}{' '}\n            <Link to=\"/signin\" className={css.linkUp}>\n              {t('signUp.signIn')}\n            </Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SignUpForm;","import { useSelector } from 'react-redux';\nimport AdvantagesSection from '../../components/AdvantagesSection/AdvantagesSection.jsx';\nimport SignUpForm from '../../components/SignUp/SignUp.jsx';\nimport css from './SignUpPage.module.css';\nimport { selectAuthIsLoading } from '../../redux/auth/selectors.js';\nimport Loader from '../../components/Loader/Loader.jsx';\nimport Languages from '../../components/Languages/Languages';\n\nfunction SignUpPage() {\n  const isLoading = useSelector(selectAuthIsLoading);\n\n  return (\n\n  <div className={css.wrapperStyle}>\n          <Languages />\n\n    <div className={css.signUp}>\n      {isLoading && <Loader />}\n      <SignUpForm />\n      <div className={css.hidden}>\n        <AdvantagesSection />\n      </div>\n    </div>\n  </div>\n  );\n}\n\nexport default SignUpPage;\n"],"names":["schema","Yup.object","Yup.string","Yup.ref","SignUpForm","t","useTranslation","showPwd","setShowPwd","useState","showRepeatPwd","setShowRepeatPwd","notification","setNotification","navigate","useNavigate","dispatch","useDispatch","togglePwdVisibility","prev","toggleRepeatPwdVisibility","register","handleSubmit","errors","reset","useForm","yupResolver","onSubmit","data","email","password","result","fetchSignUp","error","errorMessage","_b","_a","jsxs","css","jsx","Logo","Icon","Link","SignUpPage","isLoading","useSelector","selectAuthIsLoading","Languages","Loader","AdvantagesSection"],"mappings":"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"}