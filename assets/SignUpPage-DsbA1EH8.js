import{r as c,a as v,b as E,j as s,L as k,f as T,u as $,s as I}from"./index-B9k4l5qI.js";import{A as L}from"./AdvantagesSection-D03o0iMQ.js";import{c as R,a as l,b as F,u as B,I as h,o as W}from"./yup-C3ZzsJIJ.js";import{L as A,a as O}from"./Loader-CfupLWTJ.js";const C="_containerUp_10h3q_1",V="_formUp_10h3q_8",z="_titleUp_10h3q_19",H="_labelUp_10h3q_29",D="_inputWrapper_10h3q_39",M="_inputUp_10h3q_44",G="_icon_10h3q_64",J="_errorText_10h3q_80",K="_btnUp_10h3q_87",Q="_textUp_10h3q_107",X="_linkUp_10h3q_116",Y="_iconButton_10h3q_127",Z="_inputError_10h3q_139",ss="_notification_10h3q_152",es="_fadeInOut_10h3q_1",e={containerUp:C,formUp:V,titleUp:z,labelUp:H,inputWrapper:D,inputUp:M,icon:G,errorText:J,btnUp:K,textUp:Q,linkUp:X,iconButton:Y,inputError:Z,notification:ss,fadeInOut:es},as=R().shape({email:l().email("Invalid email format").required("Email is required"),password:l().min(8,"Enter a real password!").max(50,"Too long").required("Password is required"),repeatPassword:l().min(8,"Enter a real password!").max(50,"Too long").oneOf([F("password"),null],"Passwords must match!").required("Password is required")});function ts(){const[i,_]=c.useState(!1),[r,w]=c.useState(!1),[d,o]=c.useState(null),U=v(),g=E(),j=()=>_(n=>!n),f=()=>w(n=>!n),{register:p,handleSubmit:b,formState:{errors:a},reset:N}=B({resolver:W(as),mode:"onChange"}),q=async n=>{var m,u;const{email:y,password:P}=n;try{const t=await g(T({email:y,password:P})).unwrap();N(),U("/tracker")}catch(t){const S=(t==null?void 0:t.message)||"Failed to sign up. Please try again.";o({message:((u=(m=t==null?void 0:t.response)==null?void 0:m.data)==null?void 0:u.message)||"Registration failed. Please try again.",type:"error"}),setTimeout(()=>o(null),8e3),o(S),setTimeout(()=>o(null),5e3)}};return s.jsxs("div",{className:e.containerUp,children:[s.jsx(A,{}),s.jsxs("div",{className:e.formUp,children:[s.jsx("h2",{className:e.titleUp,children:"Sign Up"}),s.jsxs("form",{onSubmit:b(q),noValidate:!0,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:e.labelUp,children:"Email"}),s.jsx("input",{...p("email"),type:"email",name:"email",placeholder:"Enter your email",className:`${e.inputUp} ${a.email?e.inputError:""}`})]}),a.email&&s.jsx("p",{className:e.errorText,children:a.email.message}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:e.labelUp,children:"Password"}),s.jsxs("div",{className:e.inputWrapper,children:[s.jsx("input",{...p("password"),type:i?"text":"password",name:"password",placeholder:"Enter your password",className:`${e.inputUp} ${a.password?e.inputError:""}  `}),s.jsx("button",{className:e.iconButton,type:"button",onClick:j,"aria-label":r?"Hide repeat password":"Show repeat password",children:s.jsx(h,{className:e.icon,id:i?"icon-eye":"icon-eye-off",size:24})})]}),a.password&&s.jsx("p",{className:e.errorText,children:a.password.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:e.labelUp,children:"Repeat password"}),s.jsxs("div",{className:e.inputWrapper,children:[s.jsx("input",{...p("repeatPassword"),type:r?"text":"password",name:"repeatPassword",placeholder:"Repeat password",className:`${e.inputUp} ${a.repeatPassword?e.inputError:""}`}),s.jsx("button",{className:e.iconButton,type:"button",onClick:f,"aria-label":r?"Hide repeat password":"Show repeat password",children:s.jsx(h,{className:e.icon,id:r?"icon-eye":"icon-eye-off",size:24})})]}),a.repeatPassword&&s.jsx("p",{className:e.errorText,children:a.repeatPassword.message})]}),s.jsx("button",{type:"submit",className:e.btnUp,children:"Sign Up"})]}),d&&s.jsx("div",{className:e.notification,children:d}),s.jsx("div",{children:s.jsxs("p",{className:e.textUp,children:["Already have account?"," ",s.jsx(k,{to:"/signin",className:e.linkUp,children:"Sign In"})]})})]})]})}const ns="_hidden_1sk8w_1",is="_signUp_1sk8w_11",x={hidden:ns,signUp:is};function ls(){const i=$(I);return s.jsxs("div",{className:x.signUp,children:[i&&s.jsx(O,{}),s.jsx(ts,{}),s.jsx("div",{className:x.hidden,children:s.jsx(L,{})})]})}export{ls as default};
//# sourceMappingURL=SignUpPage-DsbA1EH8.js.map
