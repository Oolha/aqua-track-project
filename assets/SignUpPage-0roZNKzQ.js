import{r as c,u as S,a as v,j as s,L as E,l as $,b as k}from"./index-BI1Dkrkj.js";import{A as T}from"./AdvantagesSection-ByDQoNTQ.js";import{u as I,I as _}from"./index.esm-m19D1D9r.js";import{c as R,a as l,b as q,o as F,d as B}from"./axios-Bq_52fM_.js";import{L}from"./Logo-Cs_TRt5H.js";const W="_containerUp_1whap_1",O="_formUp_1whap_9",A="_titleUp_1whap_20",z="_labelUp_1whap_29",C="_inputUp_1whap_38",H="_errorText_1whap_55",V="_btnUp_1whap_63",D="_textUp_1whap_77",M="_linkUp_1whap_84",G="_iconButton_1whap_90",J="_inputWrapper_1whap_102",K="_inputError_1whap_107",Q="_notification_1whap_112",X="_fadeInOut_1whap_1",Y="_success_1whap_131",Z="_error_1whap_55",ss="_info_1whap_141",es="_warning_1whap_146",e={containerUp:W,formUp:O,titleUp:A,labelUp:z,inputUp:C,errorText:H,btnUp:V,textUp:D,linkUp:M,iconButton:G,inputWrapper:J,inputError:K,notification:Q,fadeInOut:X,success:Y,error:Z,info:ss,warning:es},as=R().shape({email:l().email("Invalid email format").min(3,"Enter a real email!").max(50,"Too Long!").required("Email is required"),password:l().min(4,"Enter a real password!").max(50,"Too long").required("Password is required"),repeatPassword:l().min(4,"Enter a real password!").max(50,"Too long").oneOf([q("password"),null],"Passwords must match!").required("Password is required")});function ts(){const[d,U]=c.useState(!1),[r,g]=c.useState(!1),[o,m]=c.useState(null),f=S(),u=v(),j=()=>U(t=>!t),b=()=>g(t=>!t),{register:i,handleSubmit:N,formState:{errors:a},reset:y}=I({resolver:F(as)}),P=async t=>{var h,w;try{const p=await B.post("http://localhost:5173/api/signup",t);//! імітація запиту для перевірки роботи коду без бекенду
const{token:n}=p.data;u($(n)),y(),f("/tracker")}catch(p){const n=((w=(h=p.response)==null?void 0:h.data)==null?void 0:w.message)||"Registration failed. Please try again.";u(k(n)),m({message:n,type:"error"}),setTimeout(()=>m(null),8e3)}};return s.jsxs("div",{className:e.containerUp,children:[s.jsx(L,{}),s.jsxs("div",{className:e.formUp,children:[s.jsx("h2",{className:e.titleUp,children:"Sign Up"}),s.jsxs("form",{onSubmit:N(P),children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:e.labelUp,children:"Email"}),s.jsx("input",{...i("email"),type:"email",name:"email",placeholder:"Enter your email",className:`${e.inputUp} ${a.email?e.inputError:""}`}),a.email&&s.jsx("p",{className:e.errorText,children:a.email.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:e.labelUp,children:"Password"}),s.jsxs("div",{className:e.inputWrapper,children:[s.jsx("input",{...i("password"),type:d?"text":"password",name:"password",placeholder:"Enter your password",className:`${e.inputUp} ${a.password?e.inputError:""}  `}),a.password&&s.jsx("p",{className:e.errorText,children:a.password.message}),s.jsx("button",{className:e.iconButton,type:"button",onClick:j,"aria-label":r?"Hide repeat password":"Show repeat password",children:s.jsx(_,{id:d?"icon-eye":"icon-eye-off",size:24})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:e.labelUp,children:"Repeat password"}),s.jsxs("div",{className:e.inputWrapper,children:[s.jsx("input",{...i("repeatPassword"),type:r?"text":"password",name:"repeatPassword",placeholder:"Repeat password",className:`${e.inputUp} ${a.repeatPassword?e.inputError:""}`}),a.repeatPassword&&s.jsx("p",{className:e.errorText,children:a.repeatPassword.message}),s.jsx("button",{className:e.iconButton,type:"button",onClick:b,"aria-label":r?"Hide repeat password":"Show repeat password",children:s.jsx(_,{id:r?"icon-eye":"icon-eye-off",size:24})})]})]}),s.jsx("button",{type:"submit",className:e.btnUp,children:"Sign Up"})]}),o&&s.jsx("div",{className:`${e.notification} ${e[o.type]}`,children:o.message}),s.jsx("div",{children:s.jsxs("p",{className:e.textUp,children:["Already have account?"," ",s.jsx(E,{to:"/signin",className:e.linkUp,children:"Sign In"})]})})]})]})}const rs="_hidden_1sk8w_1",ns="_signUp_1sk8w_11",x={hidden:rs,signUp:ns};function ds(){return s.jsxs("div",{className:x.signUp,children:[s.jsx(ts,{}),s.jsx("div",{className:x.hidden,children:s.jsx(T,{})})]})}export{ds as default};
//# sourceMappingURL=SignUpPage-0roZNKzQ.js.map
