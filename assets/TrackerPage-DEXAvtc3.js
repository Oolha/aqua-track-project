import{u as P,d as it,j as r,b as ie,p as gn,e as hn,r as _,R as xn,g as et,h as vn,s as qt,i as ct,k as wn,l as bn,m as ce,n as yn,o as jn,q as Nn,t as tt,v as Cn,w as En}from"./index-iMY-0IOq.js";import{u as Z,L as Dn,a as Rn}from"./Loader-C7Vg5VLA.js";import{I as W,c as Ht,a as Oe,d as Be,u as Ut,o as Yt,C as vt,e as nt,L as kn}from"./Languages-DexnGUEm.js";import{T as Mn,a as On}from"./TourGuide-DtR8IuDI.js";const Bn="_wrapper_1wsk8_1",Tn="_imageBottle_1wsk8_25",wt={wrapper:Bn,imageBottle:Tn},$n="_wrapper_1jl49_1",Pn="_normaLitr_1jl49_11",Sn="_text_1jl49_19",Ye={wrapper:$n,normaLitr:Pn,text:Sn},Fn=()=>{const e=P(it),{t}=Z(),n=o=>`${o.toFixed(1)} L`;return r.jsxs("div",{className:Ye.wrapper,children:[r.jsx("p",{className:`${Ye.normaLitr} normaLitr`,children:n(e)}),r.jsx("p",{className:Ye.text,children:t("waterDailyNorma.dailyNorma")})," "]})},In="_button_1k5en_1",Ln="_icon_1k5en_24",bt={button:In,icon:Ln},An=({handleClickBtn:e})=>{const{t}=Z();return r.jsxs("button",{onClick:e,className:bt.button,type:"button",children:[r.jsx(W,{id:"icon-plus",height:24,width:24,className:bt.icon}),r.jsx("p",{children:t("addWaterBtn.addWater")})]})},Wn="_wrapper_ch267_1",zn="_text_ch267_14",Vn="_scale_ch267_22",qn="_volumeInfo_ch267_31",Hn="_progressBar_ch267_40",Un="_circle_ch267_50",Yn="_listPercent_ch267_64",Kn="_itemPercent_ch267_70",X={wrapper:Wn,text:zn,scale:Vn,volumeInfo:qn,progressBar:Hn,circle:Un,listPercent:Yn,itemPercent:Kn},lt=e=>e.water.items,Kt=e=>e.water.isLoading,Zt=["January","February","March","April","May","June","July","August","September","October","November","December"];function yt(e,t=!0){const n=new Date(e);t?n.setMonth(n.getMonth()+1):n.setMonth(n.getMonth()-1);const o=n.getFullYear(),s=Zt[n.getMonth()];return{year:o,monthName:s,date:n}}function Zn(e){const t=new Date(e),n=t.getFullYear(),o=t.getMonth()+1;return new Date(n,o,0).getDate()}function ut(e){return Zt[e.getMonth()]}function Xn(e){return+e<10?`0${e}`:e}function dt(e,t){const n=[];return e.forEach(o=>{let s=o.date;const a=new Date(s);a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()&&n.push(o)}),n.map(o=>o)}function Xt(e){return e.reduce((t,n)=>{let o=n.volume;return t+=o,t},0)}function Gn(e){const t=new Date(e),n=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0");return`${n}:${o}`}const Jn=()=>{const e=P(it),t=P(lt),o=dt(t,new Date),s=Xt(o),a=Math.min(Math.round(s/1e3/e*100),100);return r.jsxs("div",{className:X.wrapper,children:[r.jsx("p",{className:X.text,children:"Today"}),r.jsxs("div",{className:`${X.scale} scale`,children:[r.jsxs("span",{className:X.volumeInfo,style:{left:a===0?"0px":`calc(${a}% - 12px)`},children:[a,"%"]}),r.jsx("div",{className:X.progressBar,style:{width:`${a}%`}}),r.jsx("span",{className:X.circle,style:{left:a===0?"0px":`calc(${a}% - 12px)`}})]}),r.jsxs("ul",{className:X.listPercent,children:[r.jsx("li",{className:X.itemPercent,children:"0%"}),r.jsx("li",{className:X.itemPercent,children:"50%"}),r.jsx("li",{className:X.itemPercent,children:"100%"})]})]})},Qn="_modalTitle_khbpy_1",eo={modalTitle:Qn},to="_waterForm_ezc4p_1",no="_valuePickerContainer_ezc4p_12",oo="_adjustmentContainer_ezc4p_16",so="_amountDisplay_ezc4p_22",ro="_adjustmentButton_ezc4p_32",ao="_icon_ezc4p_51",io="_inputField_ezc4p_55",co="_timeBlockLabel_ezc4p_76",lo="_amountBlockLabel_ezc4p_80",uo="_saveBtn_ezc4p_84",mo="_inputError_ezc4p_118",fo="_errorMessage_ezc4p_123",I={waterForm:to,valuePickerContainer:no,adjustmentContainer:oo,amountDisplay:so,adjustmentButton:ro,icon:ao,inputField:io,timeBlockLabel:co,amountBlockLabel:lo,saveBtn:uo,inputError:mo,errorMessage:fo},po=({entry:e,toggleModal:t})=>{const n=ie(),o=P(Kt),{t:s}=Z(),a=C=>{if(C)return C.split(" ")[0];const v=new Date,E=B=>String(B).padStart(2,"0");return`${v.getFullYear()}-${E(v.getMonth()+1)}-${E(v.getDate())}`},i=C=>{if(C)return C.split(" ")[1];const v=new Date,E=B=>String(B).padStart(2,"0");return`${E(v.getHours())}:${E(v.getMinutes())}`},c=a(e.date),l=i(e.date),u=Ht().shape({time:Oe().required(s("validationForm.drinkingTimeRequired")).matches(/^([01]\d|2[0-3]):([0-5]\d)$/,s("validationForm.drinkingTimeRequired")),volume:Be().required(s("validationForm.usedWaterRequired")).typeError(s("validationForm.usedWaterTypeError")).integer(s("validationForm.usedWaterInteger")).min(50,s("validationForm.usedWaterPositive")).max(3e3,s("validationForm.usedWaterMax"))}),p={time:l,volume:e.volume||"50"},{control:f,handleSubmit:g,setValue:m,getValues:x,watch:d,formState:{errors:w}}=Ut({defaultValues:p,resolver:Yt(u)}),b=d("volume"),N=C=>{e._id?n(gn({id:e._id,updatedData:{volume:Number(C.volume),date:`${c} ${C.time}`}})).then(t):n(hn({volume:Number(C.volume),date:`${c} ${C.time}`})).then(t)},y=C=>Number(C)>=1e3?`${Math.floor(C/1e3)},${C%1e3} l`:`${C} ml`,k=()=>{+x("volume")-50>=50?m("volume",+x("volume")-50):m("volume",50)},M=()=>{+x("volume")+50<=3e3?m("volume",+x("volume")+50):m("volume",3e3)};return r.jsxs("form",{onSubmit:g(N),className:I.waterForm,children:[r.jsx("p",{children:e._id?s("waterForm.titleEdit"):s("waterForm.titleAdd")}),r.jsxs("div",{className:I.valuePickerContainer,children:[r.jsxs("p",{children:[s("waterForm.secondTitle"),":"]}),r.jsxs("div",{className:I.adjustmentContainer,children:[r.jsx("button",{className:I.adjustmentButton,type:"button",onClick:k,children:r.jsx(W,{id:"icon-minus",size:24,className:I.icon})}),r.jsx("div",{className:I.amountDisplay,children:y(b)}),r.jsx("button",{className:I.adjustmentButton,type:"button",onClick:M,children:r.jsx(W,{id:"icon-plus",size:24,className:I.icon})})]}),r.jsxs("label",{children:[r.jsxs("p",{className:I.timeBlockLabel,children:[s("waterForm.time"),":"]}),r.jsx(vt,{name:"time",control:f,render:({field:C})=>r.jsx("input",{className:`${I.inputField} ${w.time?I.inputError:""}`,type:"text",placeholder:"hh:mm",...C})}),w.time&&r.jsx("span",{className:I.errorMessage,children:w.time.message})]})]}),r.jsxs("label",{children:[r.jsxs("p",{className:I.amountBlockLabel,children:[s("waterForm.waterUsed"),":"]}),r.jsx(vt,{name:"volume",control:f,render:({field:C})=>r.jsx("input",{className:`${I.inputField} ${w.volume?I.inputError:""}`,type:"number",placeholder:s("waterForm.waterUsed"),...C})}),w.volume&&r.jsx("span",{className:I.errorMessage,children:w.volume.message})]}),r.jsx("br",{}),r.jsx("button",{className:I.saveBtn,disabled:o,type:"submit",children:s("waterForm.button")})]})},mt=({entry:e={},toggleModal:t})=>{const{t:n}=Z();return r.jsxs(r.Fragment,{children:[r.jsxs("h2",{className:eo.modalTitle,children:[e._id?n("waterModal.edit"):n("waterModal.add")," "]}),r.jsx(po,{entry:e,toggleModal:t})]})},_o="_backdrop_12h8r_1",go="_modal_12h8r_14",ho="_modal_settings_12h8r_27",xo="_btn_close_12h8r_36",vo="_content_wrapper_12h8r_54",wo="_icon_close_12h8r_62",fe={backdrop:_o,modal:go,modal_settings:ho,btn_close:xo,content_wrapper:vo,icon_close:wo},ft=document.getElementById("modalRoot")||document.createElement("div");ft.id="modalRoot";document.body.appendChild(ft);const ve=({children:e,toggleModal:t,isSettings:n=!1})=>{_.useEffect(()=>{const s=a=>{a.code==="Escape"&&t()};return document.addEventListener("keydown",s),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",s),document.body.style.overflow="auto"}},[t]);const o=s=>{s.currentTarget===s.target&&t()};return xn.createPortal(r.jsx("div",{onClick:o,className:fe.backdrop,children:r.jsxs("div",{className:`${fe.modal} ${n?fe.modal_settings:""}`,children:[r.jsx("button",{className:fe.btn_close,type:"button",onClick:t,children:r.jsx(W,{id:"icon-close",size:24,className:fe.icon_close})}),r.jsx("div",{className:fe.content_wrapper,children:e})]})}),ft)},we=()=>{const[e,t]=_.useState(!1);return[e,()=>{t(!e)}]},jt="/assets/bottle_desktop-CZ-w8I2l.png",bo="/assets/bottle_desktop@2x-BibmA44N.png",yo="/assets/bottle_tablet-CZ33gIuZ.png",jo="/assets/bottle_tablet@2x-DmrX19EM.png",No="/assets/bottle_mobile-BxnKRjh-.png",Co="/assets/bottle_mobile@2x-O3tHed2u.png",Eo=()=>{const[e,t]=we(),n=ie();return _.useEffect(()=>{n(et())},[n]),r.jsxs("div",{className:wt.wrapper,children:[r.jsx(Dn,{}),r.jsx(Fn,{}),r.jsxs("picture",{children:[r.jsx("source",{srcSet:`${jt} 1x, ${bo} 2x`,media:"(min-width: 1440px)"}),r.jsx("source",{srcSet:`${yo} 1x, ${jo} 2x`,media:"(min-width: 768px)"}),r.jsx("source",{srcSet:`${No} 1x, ${Co} 2x`,media:"(max-width: 767px)"}),r.jsx("img",{className:wt.imageBottle,src:jt,alt:"Transparent bottle for water"})]}),r.jsx(Jn,{}),r.jsx(An,{handleClickBtn:t}),e&&r.jsx(ve,{toggleModal:t,children:r.jsx(mt,{toggleModal:t})})]})},Do="_addBtnBox_1ry1t_1",Ro="_addBtn_1ry1t_1",ko="_icon_1ry1t_14",Mo="_addWaterText_1ry1t_20",Ce={addBtnBox:Do,addBtn:Ro,icon:ko,addWaterText:Mo},Oo=({onAddWaterClick:e})=>{const[t,n]=_.useState(!1),{t:o}=Z(),s=()=>n(!0),a=()=>n(!1);return r.jsxs("div",{className:Ce.addBtnBox,children:[r.jsx("button",{type:"button",className:Ce.addBtn,onClick:e,onMouseEnter:s,onMouseLeave:a,children:t?r.jsx(W,{id:"icon-plus-hover",className:Ce.icon}):r.jsx(W,{id:"icon-close-in-round",className:Ce.icon})}),r.jsx("p",{className:`${Ce.addWaterText} addWaterText`,children:o("addWaterBtn.addWater")})]})},Bo="_curDate_1r5r4_1",To={curDate:Bo},me=e=>e.date.currDate,$o=e=>e.date.formattedCurrDate,Po=e=>e.date.activeDay,So=new Date(me);So.getMonth();const Fo=()=>{const e=new Date,t=e.getDate(),n=e.getMonth(),o=P(me),s=new Date(o),a=s.getDate(),i=s.getMonth(),c=a===t&&i===n,{t:l}=Z();return r.jsx(r.Fragment,{children:r.jsx("p",{className:To.curDate,children:c?l("chooseDate.today"):`${ut(s)}, ${a}`})})},Io="_waterItem_15b7e_1",Lo="_icon_15b7e_12",Ao="_listItems_15b7e_17",Wo="_itemTextBox_15b7e_23",zo="_itemText_15b7e_23",Vo="_itemTextTime_15b7e_34",qo="_itemIconsBox_15b7e_40",Ho="_icons_15b7e_46",Q={waterItem:Io,icon:Lo,listItems:Ao,itemTextBox:Wo,itemText:zo,itemTextTime:Vo,itemIconsBox:qo,icons:Ho};function Gt(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Gt(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function be(){for(var e,t,n=0,o="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Gt(e))&&(o&&(o+=" "),o+=t);return o}const Uo="_modal_bsmy2_1",Yo="_title_bsmy2_7",Ko="_text_bsmy2_15",Zo="_boxButton_bsmy2_20",Xo="_button_bsmy2_26",Go="_logoutButton_bsmy2_34",Jo="_cancelButton_bsmy2_38",oe={modal:Uo,title:Yo,text:Ko,boxButton:Zo,button:Xo,logoutButton:Go,cancelButton:Jo},Qo=({itemId:e,toggleModal:t})=>{const n=ie(),o=()=>{n(vn(e)),t()},{t:s}=Z();return r.jsx(r.Fragment,{children:r.jsxs("div",{className:oe.modal,children:[r.jsx("h2",{className:oe.title,children:s("deleteModal.title")}),r.jsx("p",{className:oe.text,children:s("deleteModal.confirm")}),r.jsxs("div",{className:oe.boxButton,children:[r.jsx("button",{className:be(oe.button,oe.logoutButton),type:"button",onClick:o,children:s("deleteModal.delete")}),r.jsx("button",{className:be(oe.button,oe.cancelButton),type:"button",onClick:t,children:s("deleteModal.close")})]})]})})},es=({item:e})=>{const[t,n]=we(),[o,s]=we();return r.jsxs("div",{className:Q.waterItem,children:[r.jsx(W,{id:"icon-water",className:Q.icon}),r.jsxs("div",{className:Q.listItems,children:[r.jsxs("div",{className:Q.itemTextBox,children:[r.jsxs("p",{className:Q.itemText,children:[e.volume,"ml"]}),r.jsx("p",{className:Q.itemTextTime,children:Gn(e.date)})]}),r.jsxs("div",{className:Q.itemIconsBox,children:[r.jsx("button",{type:"button",onClick:s,children:r.jsx(W,{id:"icon-pencil",className:Q.icons})}),o&&r.jsx(ve,{toggleModal:s,children:r.jsx(mt,{entry:e,toggleModal:s})}),r.jsx("button",{type:"button",onClick:n,children:r.jsx(W,{id:"icon-bin",className:Q.icons})}),t&&r.jsx(ve,{toggleModal:n,children:r.jsx(Qo,{itemId:e._id,toggleModal:n})})]})]})]})},ts="_list_182c5_1",ns="_scrollable_182c5_12",Nt={list:ts,scrollable:ns},os=()=>{const e=P(lt),t=P(me),n=new Date(t),o=_.useMemo(()=>dt(e,n),[e,n]),s=`${Nt.list} ${o.length>3?Nt.scrollable:""}`;return r.jsx("ul",{className:s,children:o.map(a=>r.jsx(es,{item:a},a._id))})},ss="_mainBox_htdby_1",rs="_dailyInfoBox_htdby_4",Ct={mainBox:ss,dailyInfoBox:rs},as=()=>{const e=P($o),[t,n]=we();return r.jsxs("div",{className:Ct.mainBox,children:[r.jsxs("div",{className:Ct.dailyInfoBox,children:[r.jsx(Fo,{}),r.jsx(Oo,{onAddWaterClick:n})]}),r.jsx(os,{}),t&&r.jsx(ve,{toggleModal:n,children:r.jsx(mt,{toggleModal:n,entry:{date:e}})})]})},is="_btn_rg1p7_1",cs="_name_rg1p7_14",ls="_icon_rg1p7_22",us="_avatar_rg1p7_28",ds="_rotated_rg1p7_33",pe={btn:is,name:cs,icon:ls,avatar:us,rotated:ds},ms="_mainBox_17728_1",fs="_btnSetting_17728_13",ps="_btnLogOut_17728_14",_s="_iconLogOut_17728_31",gs="_textLogOut_17728_41",hs="_slideIn_17728_1",_e={mainBox:ms,btnSetting:fs,btnLogOut:ps,iconLogOut:_s,textLogOut:gs,slideIn:hs},xs="_wrapper_1v59f_1",vs="_user_avatar_1v59f_17",ws="_error_message_1v59f_30",bs="_title_1v59f_39",ys="_upload_photo_1v59f_56",js="_file_input_1v59f_71",Ns="_upload_label_1v59f_77",Cs="_form_1v59f_100",Es="_form_group_wrapper_1v59f_117",Ds="_form_group_1v59f_117",Rs="_label_title_1v59f_165",ks="_label_text_1v59f_181",Ms="_name_email_group_1v59f_198",Os="_gender_identity_container_1v59f_208",Bs="_water_norm_group_1v59f_209",Ts="_checkbox_wrapper_1v59f_217",$s="_radioBtn_1v59f_221",Ps="_custom_checkbox_1v59f_224",Ss="_active_checkbox_1v59f_237",Fs="_name_email_wrapper_1v59f_248",Is="_name_email_input_1v59f_254",Ls="_input_weight_1v59f_266",As="_input_active_time_1v59f_267",Ws="_input_drunk_water_1v59f_268",zs="_water_norm_container_1v59f_282",Vs="_water_norm_title_1v59f_296",qs="_water_norm_span_1v59f_314",Hs="_water_norm_description_1v59f_319",Us="_water_norm_description_span_1v59f_338",Ys="_water_norm_calling_1v59f_342",Ks="_icon_calling_1v59f_361",Zs="_weight_and_time_wrapper_1v59f_367",Xs="_weight_and_time_group_1v59f_379",Gs="_water_intake_container_1v59f_385",Js="_water_requirement_group_1v59f_393",Qs="_water_intake_input_group_1v59f_406",er="_water_amount_1v59f_430",tr="_btn_submit_1v59f_461",nr="_error_input_1v59f_495",h={wrapper:xs,user_avatar:vs,error_message:ws,title:bs,upload_photo:ys,file_input:js,upload_label:Ns,form:Cs,form_group_wrapper:Es,form_group:Ds,label_title:Rs,label_text:ks,name_email_group:Ms,gender_identity_container:Os,water_norm_group:Bs,checkbox_wrapper:Ts,radioBtn:$s,custom_checkbox:Ps,active_checkbox:Ss,name_email_wrapper:Fs,name_email_input:Is,input_weight:Ls,input_active_time:As,input_drunk_water:Ws,water_norm_container:zs,water_norm_title:Vs,water_norm_span:qs,water_norm_description:Hs,water_norm_description_span:Us,water_norm_calling:Ys,icon_calling:Ks,weight_and_time_wrapper:Zs,weight_and_time_group:Xs,water_intake_container:Gs,water_requirement_group:Js,water_intake_input_group:Qs,water_amount:er,btn_submit:tr,error_input:nr},or="/assets/imageUserAvatar-CeeJa4xI.jpg",sr=Ht().shape({name:Oe().matches(/^[a-zA-Z ]+$/,"Name can only contain letters").required("Name is required"),email:Oe().email("Email must be a valid email address").required("Email is required"),gender:Oe().oneOf(["male","female","other"]),weight:Be().min(10,"Weight should be at least 10 kg").max(250,"Weight should not exceed 250 kg").required("Weight is required").typeError("Weight must be a number"),activeTime:Be().min(0,"Daily activity time cannot be a negative number").required("Active time is required").typeError("Active time must be a number"),dailyNorm:Be().min(0,"Daily water norm cannot be a negative number").required("Water intake is required").typeError("Daily norm must be a number")}),rr=({toggleModal:e})=>{const{t}=Z();P(qt);const n=ie(),[o,s]=_.useState({weight:"",activeTime:"",dailyNorm:""}),a=P(ct),[i,c]=_.useState(""),[l,u]=_.useState(""),p=["female","male"],{register:f,handleSubmit:g,setValue:m,watch:x,formState:{errors:d}}=Ut({resolver:Yt(sr),defaultValues:{gender:"",name:"",email:"",weight:"",activeTime:"",dailyNorm:""}}),w=v=>{v.target.files[0]&&m("avatar",v.target.files)},b=x("avatar");_.useEffect(()=>{n(et())},[n]);const N=x("weight"),y=x("activeTime"),k=x("dailyNorm");_.useEffect(()=>{s({weight:N,activeTime:y,dailyNorm:k})},[N,y,k]),_.useEffect(()=>{if(a){const v=a.data||a;m("name",v.name||""),m("email",v.email||""),m("weight",v.weight||""),m("activeTime",v.activeTime||""),m("dailyNorm",v.dailyNorm||""),m("gender",v.gender||""),c(v.gender||"")}},[a,m]);const M=async v=>{try{const E=new FormData;E.append("gender",i),E.append("name",v.name),E.append("email",v.email),E.append("weight",v.weight),E.append("activeTime",v.activeTime),E.append("dailyNorm",parseFloat(v.dailyNorm)),v.avatar&&v.avatar[0]&&E.append("avatar",v.avatar[0]),await n(wn(E)),u(v.dailyNorm),await n(et()),e()}catch(E){console.error("Failed to update user:",E)}},C=(v,E)=>{const{name:B,value:L}=v.target;m(B,L),s(z=>{const V={...z,[B]:L},A=parseFloat(V.weight)||0,F=parseFloat(V.activeTime)||0;let D=0;E==="female"?D=A*.03+F*.4:E==="male"&&(D=A*.04+F*.6);const O=D.toFixed(1);return m("dailyNorm",O),m("gender",E),u(O),{...V,dailyNorm:O}})};return r.jsx(r.Fragment,{children:r.jsxs("div",{className:h.wrapper,children:[r.jsx("h2",{className:h.title,children:t("settingsModal.titleModal")}),b&&b[0]?r.jsx("img",{src:URL.createObjectURL(b[0]),alt:"User's avatar",className:h.user_avatar}):r.jsx("img",{src:a.avatar||or,alt:"User's avatar",className:h.user_avatar}),r.jsx("div",{className:h.upload_photo,children:r.jsxs("label",{className:h.upload_label,children:[r.jsx(W,{id:"icon-upload",size:18,className:h.icon_upload}),t("settingsForm.userUploadButton"),r.jsx("input",{type:"file",onChange:w,className:h.file_input})]})}),r.jsx("div",{className:h.scroll_container,children:r.jsxs("form",{onSubmit:g(M),className:h.form,children:[r.jsxs("div",{className:h.form_group_wrapper,children:[r.jsxs("div",{className:h.form_group,children:[r.jsxs("div",{className:h.gender_identity_container,children:[r.jsxs("label",{className:h.label_title,children:[t("settingsForm.userGender"),":"]}),r.jsx("div",{className:h.checkbox_wrapper,children:p.map((v,E)=>r.jsxs("label",{className:h.label_text,children:[r.jsx("input",{className:h.radioBtn,type:"radio",name:"gender",value:v,...f("gender"),checked:i===v,onChange:B=>{c(B.target.value),C(B,B.target.value)}}),r.jsx("div",{className:`${h.custom_checkbox} ${i===v?h.active_checkbox:""}`,children:r.jsx("span",{})}),t(v==="female"?"settingsForm.genderWoman":"settingsForm.genderMan")]},E))}),d.gender&&r.jsx("p",{className:h.error_message,children:d.gender.message})]}),r.jsxs("div",{className:h.name_email_wrapper,children:[r.jsxs("div",{className:h.name_email_group,children:[r.jsxs("label",{className:h.label_title,children:[t("settingsForm.userNameLabel"),":"]}),r.jsx("input",{type:"text",name:"name",value:o.name,onChange:v=>s({...o,name:v.target.value}),className:`${h.name_email_input} ${d.name?h.error_input:""}`,...f("name")}),d.name&&r.jsx("p",{className:h.error_message,children:d.name.message})]}),r.jsxs("div",{className:h.name_email_group,children:[r.jsxs("label",{className:h.label_title,children:[t("settingsForm.userEmailLabel"),":"]}),r.jsx("input",{type:"email",name:"email",value:o.email,...f("email"),onChange:v=>s({...o,email:v.target.value}),className:`${h.name_email_input} ${d.email?h.error_input:""}`}),d.email&&r.jsx("p",{className:h.error_message,children:d.email.message})]})]}),r.jsxs("div",{className:h.water_norm_group,children:[r.jsxs("label",{className:h.label_title,children:[t("settingsForm.subtitle"),":"]}),r.jsxs("div",{className:h.water_norm_container,children:[r.jsxs("p",{className:h.water_norm_title,children:[t("settingsForm.textForWoman")," ",r.jsx("span",{className:h.water_norm_span,children:"V=(M*0,03) + (T*0,4)"})]}),r.jsxs("p",{className:h.water_norm_title,children:[t("settingsForm.textForMan")," ",r.jsx("span",{className:h.water_norm_span,children:"V=(M*0,04) + (T*0,6)"})]})]}),r.jsxs("p",{className:h.water_norm_description,children:[r.jsx("span",{className:h.water_norm_description_span,children:"*"})," ",t("settingsForm.textDescription")]}),r.jsxs("p",{className:h.water_norm_calling,children:[r.jsx(W,{size:18,id:"icon-calling",className:h.icon_calling})," ",t("settingsForm.textActiveTime")]})]})]}),r.jsxs("div",{className:h.form_group,children:[r.jsxs("div",{className:h.weight_and_time_wrapper,children:[r.jsxs("div",{className:h.weight_and_time_group,children:[r.jsxs("label",{className:h.label_text,children:[t("settingsForm.userWeight"),":"]}),r.jsx("input",{type:"number",name:"weight",value:o.weight,...f("weight"),onChange:v=>C(v,i),className:`${h.input_weight} ${d.weight?h.error_input:""}`,min:"0"}),d.weight&&r.jsx("p",{className:h.error_message,children:d.weight.message})]}),r.jsxs("div",{className:h.weight_and_time_group,children:[r.jsxs("label",{className:h.label_text,children:[t("settingsForm.userTime"),":"]}),r.jsx("input",{type:"number",name:"activeTime",value:o.activeTime,...f("activeTime"),onChange:v=>C(v,i),className:`${h.input_active_time} ${d.activeTime?h.error_input:""}`,min:"0"}),d.activeTime&&r.jsx("p",{className:h.error_message,children:d.activeTime.message})]})]}),r.jsxs("div",{className:h.water_intake_container,children:[r.jsxs("div",{className:h.water_requirement_group,children:[r.jsx("p",{className:h.label_text,children:t("settingsForm.WaterAmount")}),r.jsxs("p",{className:h.water_amount,children:[l||a.dailyNorm,"L"]}),r.jsxs("p",{className:h.water_amount,children:[l||a.dailyNorm,"L"]})]}),r.jsxs("div",{className:h.water_intake_input_group,children:[r.jsx("label",{className:h.label_title,children:t("settingsForm.labelWaterNorma")}),r.jsx("input",{name:"dailyNorm",value:o.dailyNorm,...f("dailyNorm"),onChange:v=>{const E=v.target.value;console.log(E),s({...o,dailyNorm:E}),u(E)},className:`${h.input_drunk_water} ${d.dailyNorm?h.error_input:""}`}),d.dailyNorm&&r.jsx("p",{className:h.error_message,children:d.dailyNorm.message})]})]})]})]}),r.jsx("button",{type:"submit",className:h.btn_submit,children:t("settingsForm.subButton")})]})})]})})},ar="_modal_1q3wn_1",ir="_title_1q3wn_7",cr="_text_1q3wn_15",lr="_boxButton_1q3wn_20",ur="_button_1q3wn_26",dr="_logoutButton_1q3wn_34",mr="_cancelButton_1q3wn_38",se={modal:ar,title:ir,text:cr,boxButton:lr,button:ur,logoutButton:dr,cancelButton:mr},fr=({toggleModal:e})=>{const{t}=Z(),n=ie();return r.jsx(r.Fragment,{children:r.jsxs("div",{className:se.modal,children:[r.jsx("h2",{className:se.title,children:t("logOutModal.title")}),r.jsx("p",{className:se.text,children:t("logOutModal.confirm")}),r.jsxs("div",{className:se.boxButton,children:[r.jsx("button",{className:be(se.button,se.logoutButton),type:"button",onClick:()=>n(bn()),children:t("logOutModal.logOut")}),r.jsx("button",{className:be(se.button,se.cancelButton),type:"button",onClick:e,children:t("logOutModal.close")})]})]})})},pr=({closePopover:e})=>{const[t,n]=we(),[o,s]=we(),{t:a}=Z();return r.jsxs("div",{className:_e.mainBox,children:[r.jsxs("button",{type:"button",className:_e.btnSetting,onClick:n,children:[r.jsx(W,{id:"icon-settings",size:16,className:_e.iconSetting}),r.jsx("h4",{children:a("userBarPopover.setting")})]}),t&&r.jsx(ve,{toggleModal:n,isSettings:"false",children:r.jsx(rr,{toggleModal:n})}),r.jsxs("button",{type:"button",className:_e.btnLogOut,onClick:s,children:[r.jsx(W,{id:"icon-log-out",size:16,className:_e.iconLogOut}),r.jsx("h4",{className:_e.textLogOut,children:a("userBarPopover.logout")})]}),o&&r.jsx(ve,{toggleModal:s,children:r.jsx(fr,{toggleModal:s})})]})};var Jt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Et=ce.createContext&&ce.createContext(Jt),_r=["attr","size","title"];function gr(e,t){if(e==null)return{};var n=hr(e,t),o,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)o=a[s],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function hr(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$e.apply(this,arguments)}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,o)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dt(Object(n),!0).forEach(function(o){xr(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function xr(e,t,n){return t=vr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vr(e){var t=wr(e,"string");return typeof t=="symbol"?t:t+""}function wr(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qt(e){return e&&e.map((t,n)=>ce.createElement(t.tag,Pe({key:n},t.attr),Qt(t.child)))}function br(e){return t=>ce.createElement(yr,$e({attr:Pe({},e.attr)},t),Qt(e.child))}function yr(e){var t=n=>{var{attr:o,size:s,title:a}=e,i=gr(e,_r),c=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),ce.createElement("svg",$e({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,i,{className:l,style:Pe(Pe({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&ce.createElement("title",null,a),e.children)};return Et!==void 0?ce.createElement(Et.Consumer,null,n=>t(n)):t(Jt)}function jr(e){return br({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor"},child:[]}]})(e)}function We(){return typeof window<"u"}function je(e){return en(e)?(e.nodeName||"").toLowerCase():"#document"}function H(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function J(e){var t;return(t=(en(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function en(e){return We()?e instanceof Node||e instanceof H(e).Node:!1}function S(e){return We()?e instanceof Element||e instanceof H(e).Element:!1}function U(e){return We()?e instanceof HTMLElement||e instanceof H(e).HTMLElement:!1}function ot(e){return!We()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof H(e).ShadowRoot}function ke(e){const{overflow:t,overflowX:n,overflowY:o,display:s}=K(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(s)}function Nr(e){return["table","td","th"].includes(je(e))}function ze(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function pt(e){const t=Ve(),n=S(e)?K(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Cr(e){let t=ee(e);for(;U(t)&&!ae(t);){if(pt(t))return t;if(ze(t))return null;t=ee(t)}return null}function Ve(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ae(e){return["html","body","#document"].includes(je(e))}function K(e){return H(e).getComputedStyle(e)}function qe(e){return S(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ee(e){if(je(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ot(e)&&e.host||J(e);return ot(t)?t.host:t}function tn(e){const t=ee(e);return ae(t)?e.ownerDocument?e.ownerDocument.body:e.body:U(t)&&ke(t)?t:tn(t)}function re(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=tn(e),a=s===((o=e.ownerDocument)==null?void 0:o.body),i=H(s);if(a){const c=st(i);return t.concat(i,i.visualViewport||[],ke(s)?s:[],c&&n?re(c):[])}return t.concat(s,re(s,[],n))}function st(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Rt(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&ot(n)){let o=t;for(;o;){if(e===o)return!0;o=o.parentNode||o.host}}return!1}function kt(e,t){return["mouse","pen"].includes(e)}function Er(e){return"nativeEvent"in e}function Dr(e){return e.matches("html,body")}function Mt(e){return(e==null?void 0:e.ownerDocument)||document}function Ke(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Ee(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Rr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function kr(e){return U(e)&&e.matches(Rr)}const Se=Math.min,le=Math.max,Fe=Math.round,Me=Math.floor,G=e=>({x:e,y:e}),Mr={left:"right",right:"left",bottom:"top",top:"bottom"},Or={start:"end",end:"start"};function Ot(e,t,n){return le(e,Se(t,n))}function He(e,t){return typeof e=="function"?e(t):e}function ue(e){return e.split("-")[0]}function Ue(e){return e.split("-")[1]}function nn(e){return e==="x"?"y":"x"}function on(e){return e==="y"?"height":"width"}function ye(e){return["top","bottom"].includes(ue(e))?"y":"x"}function sn(e){return nn(ye(e))}function Br(e,t,n){n===void 0&&(n=!1);const o=Ue(e),s=sn(e),a=on(s);let i=s==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Ie(i)),[i,Ie(i)]}function Tr(e){const t=Ie(e);return[rt(e),t,rt(t)]}function rt(e){return e.replace(/start|end/g,t=>Or[t])}function $r(e,t,n){const o=["left","right"],s=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:o:t?o:s;case"left":case"right":return t?a:i;default:return[]}}function Pr(e,t,n,o){const s=Ue(e);let a=$r(ue(e),n==="start",o);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(rt)))),a}function Ie(e){return e.replace(/left|right|bottom|top/g,t=>Mr[t])}function Sr(e){return{top:0,right:0,bottom:0,left:0,...e}}function Fr(e){return typeof e!="number"?Sr(e):{top:e,right:e,bottom:e,left:e}}function Le(e){const{x:t,y:n,width:o,height:s}=e;return{width:o,height:s,top:n,left:t,right:t+o,bottom:n+s,x:t,y:n}}function Bt(e,t,n){let{reference:o,floating:s}=e;const a=ye(t),i=sn(t),c=on(i),l=ue(t),u=a==="y",p=o.x+o.width/2-s.width/2,f=o.y+o.height/2-s.height/2,g=o[c]/2-s[c]/2;let m;switch(l){case"top":m={x:p,y:o.y-s.height};break;case"bottom":m={x:p,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:f};break;case"left":m={x:o.x-s.width,y:f};break;default:m={x:o.x,y:o.y}}switch(Ue(t)){case"start":m[i]-=g*(n&&u?-1:1);break;case"end":m[i]+=g*(n&&u?-1:1);break}return m}const Ir=async(e,t,n)=>{const{placement:o="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,c=a.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:f}=Bt(u,o,l),g=o,m={},x=0;for(let d=0;d<c.length;d++){const{name:w,fn:b}=c[d],{x:N,y,data:k,reset:M}=await b({x:p,y:f,initialPlacement:o,placement:g,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});p=N??p,f=y??f,m={...m,[w]:{...m[w],...k}},M&&x<=50&&(x++,typeof M=="object"&&(M.placement&&(g=M.placement),M.rects&&(u=M.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):M.rects),{x:p,y:f}=Bt(u,g,l)),d=-1)}return{x:p,y:f,placement:g,strategy:s,middlewareData:m}};async function rn(e,t){var n;t===void 0&&(t={});const{x:o,y:s,platform:a,rects:i,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:f="floating",altBoundary:g=!1,padding:m=0}=He(t,e),x=Fr(m),w=c[g?f==="floating"?"reference":"floating":f],b=Le(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:u,rootBoundary:p,strategy:l})),N=f==="floating"?{x:o,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),k=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},M=Le(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:N,offsetParent:y,strategy:l}):N);return{top:(b.top-M.top+x.top)/k.y,bottom:(M.bottom-b.bottom+x.bottom)/k.y,left:(b.left-M.left+x.left)/k.x,right:(M.right-b.right+x.right)/k.x}}const Lr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:s,middlewareData:a,rects:i,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:d=!0,...w}=He(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=ue(s),N=ye(c),y=ue(c)===c,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),M=g||(y||!d?[Ie(c)]:Tr(c)),C=x!=="none";!g&&C&&M.push(...Pr(c,d,x,k));const v=[c,...M],E=await rn(t,w),B=[];let L=((o=a.flip)==null?void 0:o.overflows)||[];if(p&&B.push(E[b]),f){const F=Br(s,i,k);B.push(E[F[0]],E[F[1]])}if(L=[...L,{placement:s,overflows:B}],!B.every(F=>F<=0)){var z,V;const F=(((z=a.flip)==null?void 0:z.index)||0)+1,D=v[F];if(D)return{data:{index:F,overflows:L},reset:{placement:D}};let O=(V=L.filter($=>$.overflows[0]<=0).sort(($,R)=>$.overflows[1]-R.overflows[1])[0])==null?void 0:V.placement;if(!O)switch(m){case"bestFit":{var A;const $=(A=L.filter(R=>{if(C){const j=ye(R.placement);return j===N||j==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(j=>j>0).reduce((j,T)=>j+T,0)]).sort((R,j)=>R[1]-j[1])[0])==null?void 0:A[0];$&&(O=$);break}case"initialPlacement":O=c;break}if(s!==O)return{reset:{placement:O}}}return{}}}};async function Ar(e,t){const{placement:n,platform:o,elements:s}=e,a=await(o.isRTL==null?void 0:o.isRTL(s.floating)),i=ue(n),c=Ue(n),l=ye(n)==="y",u=["left","top"].includes(i)?-1:1,p=a&&l?-1:1,f=He(t,e);let{mainAxis:g,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof x=="number"&&(m=c==="end"?x*-1:x),l?{x:m*p,y:g*u}:{x:g*u,y:m*p}}const Wr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:s,y:a,placement:i,middlewareData:c}=t,l=await Ar(t,e);return i===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:s+l.x,y:a+l.y,data:{...l,placement:i}}}}},zr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:c={fn:w=>{let{x:b,y:N}=w;return{x:b,y:N}}},...l}=He(e,t),u={x:n,y:o},p=await rn(t,l),f=ye(ue(s)),g=nn(f);let m=u[g],x=u[f];if(a){const w=g==="y"?"top":"left",b=g==="y"?"bottom":"right",N=m+p[w],y=m-p[b];m=Ot(N,m,y)}if(i){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",N=x+p[w],y=x-p[b];x=Ot(N,x,y)}const d=c.fn({...t,[g]:m,[f]:x});return{...d,data:{x:d.x-n,y:d.y-o,enabled:{[g]:a,[f]:i}}}}}};function an(e){const t=K(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=U(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:o,c=Fe(n)!==a||Fe(o)!==i;return c&&(n=a,o=i),{width:n,height:o,$:c}}function _t(e){return S(e)?e:e.contextElement}function xe(e){const t=_t(e);if(!U(t))return G(1);const n=t.getBoundingClientRect(),{width:o,height:s,$:a}=an(t);let i=(a?Fe(n.width):n.width)/o,c=(a?Fe(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const Vr=G(0);function cn(e){const t=H(e);return!Ve()||!t.visualViewport?Vr:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qr(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==H(e)?!1:t}function de(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=_t(e);let i=G(1);t&&(o?S(o)&&(i=xe(o)):i=xe(e));const c=qr(a,n,o)?cn(a):G(0);let l=(s.left+c.x)/i.x,u=(s.top+c.y)/i.y,p=s.width/i.x,f=s.height/i.y;if(a){const g=H(a),m=o&&S(o)?H(o):o;let x=g,d=st(x);for(;d&&o&&m!==x;){const w=xe(d),b=d.getBoundingClientRect(),N=K(d),y=b.left+(d.clientLeft+parseFloat(N.paddingLeft))*w.x,k=b.top+(d.clientTop+parseFloat(N.paddingTop))*w.y;l*=w.x,u*=w.y,p*=w.x,f*=w.y,l+=y,u+=k,x=H(d),d=st(x)}}return Le({width:p,height:f,x:l,y:u})}function gt(e,t){const n=qe(e).scrollLeft;return t?t.left+n:de(J(e)).left+n}function ln(e,t,n){n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=o.left+t.scrollLeft-(n?0:gt(e,o)),a=o.top+t.scrollTop;return{x:s,y:a}}function Hr(e){let{elements:t,rect:n,offsetParent:o,strategy:s}=e;const a=s==="fixed",i=J(o),c=t?ze(t.floating):!1;if(o===i||c&&a)return n;let l={scrollLeft:0,scrollTop:0},u=G(1);const p=G(0),f=U(o);if((f||!f&&!a)&&((je(o)!=="body"||ke(i))&&(l=qe(o)),U(o))){const m=de(o);u=xe(o),p.x=m.x+o.clientLeft,p.y=m.y+o.clientTop}const g=i&&!f&&!a?ln(i,l,!0):G(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+p.x+g.x,y:n.y*u.y-l.scrollTop*u.y+p.y+g.y}}function Ur(e){return Array.from(e.getClientRects())}function Yr(e){const t=J(e),n=qe(e),o=e.ownerDocument.body,s=le(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),a=le(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let i=-n.scrollLeft+gt(e);const c=-n.scrollTop;return K(o).direction==="rtl"&&(i+=le(t.clientWidth,o.clientWidth)-s),{width:s,height:a,x:i,y:c}}function Kr(e,t){const n=H(e),o=J(e),s=n.visualViewport;let a=o.clientWidth,i=o.clientHeight,c=0,l=0;if(s){a=s.width,i=s.height;const u=Ve();(!u||u&&t==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:a,height:i,x:c,y:l}}function Zr(e,t){const n=de(e,!0,t==="fixed"),o=n.top+e.clientTop,s=n.left+e.clientLeft,a=U(e)?xe(e):G(1),i=e.clientWidth*a.x,c=e.clientHeight*a.y,l=s*a.x,u=o*a.y;return{width:i,height:c,x:l,y:u}}function Tt(e,t,n){let o;if(t==="viewport")o=Kr(e,n);else if(t==="document")o=Yr(J(e));else if(S(t))o=Zr(t,n);else{const s=cn(e);o={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Le(o)}function un(e,t){const n=ee(e);return n===t||!S(n)||ae(n)?!1:K(n).position==="fixed"||un(n,t)}function Xr(e,t){const n=t.get(e);if(n)return n;let o=re(e,[],!1).filter(c=>S(c)&&je(c)!=="body"),s=null;const a=K(e).position==="fixed";let i=a?ee(e):e;for(;S(i)&&!ae(i);){const c=K(i),l=pt(i);!l&&c.position==="fixed"&&(s=null),(a?!l&&!s:!l&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ke(i)&&!l&&un(e,i))?o=o.filter(p=>p!==i):s=c,i=ee(i)}return t.set(e,o),o}function Gr(e){let{element:t,boundary:n,rootBoundary:o,strategy:s}=e;const i=[...n==="clippingAncestors"?ze(t)?[]:Xr(t,this._c):[].concat(n),o],c=i[0],l=i.reduce((u,p)=>{const f=Tt(t,p,s);return u.top=le(f.top,u.top),u.right=Se(f.right,u.right),u.bottom=Se(f.bottom,u.bottom),u.left=le(f.left,u.left),u},Tt(t,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Jr(e){const{width:t,height:n}=an(e);return{width:t,height:n}}function Qr(e,t,n){const o=U(t),s=J(t),a=n==="fixed",i=de(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const l=G(0);if(o||!o&&!a)if((je(t)!=="body"||ke(s))&&(c=qe(t)),o){const g=de(t,!0,a,t);l.x=g.x+t.clientLeft,l.y=g.y+t.clientTop}else s&&(l.x=gt(s));const u=s&&!o&&!a?ln(s,c):G(0),p=i.left+c.scrollLeft-l.x-u.x,f=i.top+c.scrollTop-l.y-u.y;return{x:p,y:f,width:i.width,height:i.height}}function Ze(e){return K(e).position==="static"}function $t(e,t){if(!U(e)||K(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return J(e)===n&&(n=n.ownerDocument.body),n}function dn(e,t){const n=H(e);if(ze(e))return n;if(!U(e)){let s=ee(e);for(;s&&!ae(s);){if(S(s)&&!Ze(s))return s;s=ee(s)}return n}let o=$t(e,t);for(;o&&Nr(o)&&Ze(o);)o=$t(o,t);return o&&ae(o)&&Ze(o)&&!pt(o)?n:o||Cr(e)||n}const ea=async function(e){const t=this.getOffsetParent||dn,n=this.getDimensions,o=await n(e.floating);return{reference:Qr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function ta(e){return K(e).direction==="rtl"}const na={convertOffsetParentRelativeRectToViewportRelativeRect:Hr,getDocumentElement:J,getClippingRect:Gr,getOffsetParent:dn,getElementRects:ea,getClientRects:Ur,getDimensions:Jr,getScale:xe,isElement:S,isRTL:ta};function oa(e,t){let n=null,o;const s=J(e);function a(){var c;clearTimeout(o),(c=n)==null||c.disconnect(),n=null}function i(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),a();const{left:u,top:p,width:f,height:g}=e.getBoundingClientRect();if(c||t(),!f||!g)return;const m=Me(p),x=Me(s.clientWidth-(u+f)),d=Me(s.clientHeight-(p+g)),w=Me(u),N={rootMargin:-m+"px "+-x+"px "+-d+"px "+-w+"px",threshold:le(0,Se(1,l))||1};let y=!0;function k(M){const C=M[0].intersectionRatio;if(C!==l){if(!y)return i();C?i(!1,C):o=setTimeout(()=>{i(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(k,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,N)}n.observe(e)}return i(!0),a}function sa(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,u=_t(e),p=s||a?[...u?re(u):[],...re(t)]:[];p.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const f=u&&c?oa(u,n):null;let g=-1,m=null;i&&(m=new ResizeObserver(b=>{let[N]=b;N&&N.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let x,d=l?de(e):null;l&&w();function w(){const b=de(e);d&&(b.x!==d.x||b.y!==d.y||b.width!==d.width||b.height!==d.height)&&n(),d=b,x=requestAnimationFrame(w)}return n(),()=>{var b;p.forEach(N=>{s&&N.removeEventListener("scroll",n),a&&N.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const ra=Wr,aa=zr,ia=Lr,ca=(e,t,n)=>{const o=new Map,s={platform:na,...n},a={...s.platform,_c:o};return Ir(e,t,{...s,platform:a})};var Te=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Ae(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!Ae(e[o],t[o]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,s[o]))return!1;for(o=n;o--!==0;){const a=s[o];if(!(a==="_owner"&&e.$$typeof)&&!Ae(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function mn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Pt(e,t){const n=mn(e);return Math.round(t*n)/n}function Xe(e){const t=_.useRef(e);return Te(()=>{t.current=e}),t}function la(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:s,elements:{reference:a,floating:i}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[p,f]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,m]=_.useState(o);Ae(g,o)||m(o);const[x,d]=_.useState(null),[w,b]=_.useState(null),N=_.useCallback(R=>{R!==C.current&&(C.current=R,d(R))},[]),y=_.useCallback(R=>{R!==v.current&&(v.current=R,b(R))},[]),k=a||x,M=i||w,C=_.useRef(null),v=_.useRef(null),E=_.useRef(p),B=l!=null,L=Xe(l),z=Xe(s),V=Xe(u),A=_.useCallback(()=>{if(!C.current||!v.current)return;const R={placement:t,strategy:n,middleware:g};z.current&&(R.platform=z.current),ca(C.current,v.current,R).then(j=>{const T={...j,isPositioned:V.current!==!1};F.current&&!Ae(E.current,T)&&(E.current=T,yn.flushSync(()=>{f(T)}))})},[g,t,n,z,V]);Te(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const F=_.useRef(!1);Te(()=>(F.current=!0,()=>{F.current=!1}),[]),Te(()=>{if(k&&(C.current=k),M&&(v.current=M),k&&M){if(L.current)return L.current(k,M,A);A()}},[k,M,A,L,B]);const D=_.useMemo(()=>({reference:C,floating:v,setReference:N,setFloating:y}),[N,y]),O=_.useMemo(()=>({reference:k,floating:M}),[k,M]),$=_.useMemo(()=>{const R={position:n,left:0,top:0};if(!O.floating)return R;const j=Pt(O.floating,p.x),T=Pt(O.floating,p.y);return c?{...R,transform:"translate("+j+"px, "+T+"px)",...mn(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:T}},[n,c,O.floating,p.x,p.y]);return _.useMemo(()=>({...p,update:A,refs:D,elements:O,floatingStyles:$}),[p,A,D,O,$])}const ua=(e,t)=>({...ra(e),options:[e,t]}),da=(e,t)=>({...aa(e),options:[e,t]}),ma=(e,t)=>({...ia(e),options:[e,t]}),fn={...jn},fa=fn.useInsertionEffect,pa=fa||(e=>e());function he(e){const t=_.useRef(()=>{});return pa(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t.current==null?void 0:t.current(...o)},[])}var at=typeof document<"u"?_.useLayoutEffect:_.useEffect;let St=!1,_a=0;const Ft=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+_a++;function ga(){const[e,t]=_.useState(()=>St?Ft():void 0);return at(()=>{e==null&&t(Ft())},[]),_.useEffect(()=>{St=!0},[]),e}const ha=fn.useId,xa=ha||ga;function va(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(s=>s(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(s=>s!==n))||[])}}}const wa=_.createContext(null),ba=_.createContext(null),ya=()=>{var e;return((e=_.useContext(wa))==null?void 0:e.id)||null},pn=()=>_.useContext(ba);function ja(e){return"data-floating-ui-"+e}function Ge(e,t){let n=e.filter(s=>{var a;return s.parentId===t&&((a=s.context)==null?void 0:a.open)}),o=n;for(;o.length;)o=e.filter(s=>{var a;return(a=o)==null?void 0:a.some(i=>{var c;return s.parentId===i.id&&((c=s.context)==null?void 0:c.open)})}),n=n.concat(o);return n}const Na="data-floating-ui-focusable";function It(e){return U(e.target)&&e.target.tagName==="BUTTON"}function Lt(e){return kr(e)}function Ca(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,dataRef:s,elements:{domReference:a}}=e,{enabled:i=!0,event:c="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:p=!0,stickIfOpen:f=!0}=t,g=_.useRef(),m=_.useRef(!1),x=_.useMemo(()=>({onPointerDown(d){g.current=d.pointerType},onMouseDown(d){const w=g.current;d.button===0&&c!=="click"&&(kt(w)&&u||(n&&l&&(!(s.current.openEvent&&f)||s.current.openEvent.type==="mousedown")?o(!1,d.nativeEvent,"click"):(d.preventDefault(),o(!0,d.nativeEvent,"click"))))},onClick(d){const w=g.current;if(c==="mousedown"&&g.current){g.current=void 0;return}kt(w)&&u||(n&&l&&(!(s.current.openEvent&&f)||s.current.openEvent.type==="click")?o(!1,d.nativeEvent,"click"):o(!0,d.nativeEvent,"click"))},onKeyDown(d){g.current=void 0,!(d.defaultPrevented||!p||It(d))&&(d.key===" "&&!Lt(a)&&(d.preventDefault(),m.current=!0),d.key==="Enter"&&o(!(n&&l),d.nativeEvent,"click"))},onKeyUp(d){d.defaultPrevented||!p||It(d)||Lt(a)||d.key===" "&&m.current&&(m.current=!1,o(!(n&&l),d.nativeEvent,"click"))}}),[s,a,c,u,p,o,n,f,l]);return _.useMemo(()=>i?{reference:x}:{},[i,x])}const Ea={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Da={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},At=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Ra(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,elements:s,dataRef:a}=e,{enabled:i=!0,escapeKey:c=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:p=!1,referencePressEvent:f="pointerdown",ancestorScroll:g=!1,bubbles:m,capture:x}=t,d=pn(),w=he(typeof l=="function"?l:()=>!1),b=typeof l=="function"?w:l,N=_.useRef(!1),y=_.useRef(!1),{escapeKey:k,outsidePress:M}=At(m),{escapeKey:C,outsidePress:v}=At(x),E=_.useRef(!1),B=he(D=>{var O;if(!n||!i||!c||D.key!=="Escape"||E.current)return;const $=(O=a.current.floatingContext)==null?void 0:O.nodeId,R=d?Ge(d.nodesRef.current,$):[];if(!k&&(D.stopPropagation(),R.length>0)){let j=!0;if(R.forEach(T=>{var q;if((q=T.context)!=null&&q.open&&!T.context.dataRef.current.__escapeKeyBubbles){j=!1;return}}),!j)return}o(!1,Er(D)?D.nativeEvent:D,"escape-key")}),L=he(D=>{var O;const $=()=>{var R;B(D),(R=Ee(D))==null||R.removeEventListener("keydown",$)};(O=Ee(D))==null||O.addEventListener("keydown",$)}),z=he(D=>{var O;const $=N.current;N.current=!1;const R=y.current;if(y.current=!1,u==="click"&&R||$||typeof b=="function"&&!b(D))return;const j=Ee(D),T="["+ja("inert")+"]",q=Mt(s.floating).querySelectorAll(T);let te=S(j)?j:null;for(;te&&!ae(te);){const Y=ee(te);if(ae(Y)||!S(Y))break;te=Y}if(q.length&&S(j)&&!Dr(j)&&!Rt(j,s.floating)&&Array.from(q).every(Y=>!Rt(te,Y)))return;if(U(j)&&F){const Y=j.clientWidth>0&&j.scrollWidth>j.clientWidth,ne=j.clientHeight>0&&j.scrollHeight>j.clientHeight;let Ne=ne&&D.offsetX>j.clientWidth;if(ne&&K(j).direction==="rtl"&&(Ne=D.offsetX<=j.offsetWidth-j.clientWidth),Ne||Y&&D.offsetY>j.clientHeight)return}const ht=(O=a.current.floatingContext)==null?void 0:O.nodeId,_n=d&&Ge(d.nodesRef.current,ht).some(Y=>{var ne;return Ke(D,(ne=Y.context)==null?void 0:ne.elements.floating)});if(Ke(D,s.floating)||Ke(D,s.domReference)||_n)return;const xt=d?Ge(d.nodesRef.current,ht):[];if(xt.length>0){let Y=!0;if(xt.forEach(ne=>{var Ne;if((Ne=ne.context)!=null&&Ne.open&&!ne.context.dataRef.current.__outsidePressBubbles){Y=!1;return}}),!Y)return}o(!1,D,"outside-press")}),V=he(D=>{var O;const $=()=>{var R;z(D),(R=Ee(D))==null||R.removeEventListener(u,$)};(O=Ee(D))==null||O.addEventListener(u,$)});_.useEffect(()=>{if(!n||!i)return;a.current.__escapeKeyBubbles=k,a.current.__outsidePressBubbles=M;let D=-1;function O(q){o(!1,q,"ancestor-scroll")}function $(){window.clearTimeout(D),E.current=!0}function R(){D=window.setTimeout(()=>{E.current=!1},Ve()?5:0)}const j=Mt(s.floating);c&&(j.addEventListener("keydown",C?L:B,C),j.addEventListener("compositionstart",$),j.addEventListener("compositionend",R)),b&&j.addEventListener(u,v?V:z,v);let T=[];return g&&(S(s.domReference)&&(T=re(s.domReference)),S(s.floating)&&(T=T.concat(re(s.floating))),!S(s.reference)&&s.reference&&s.reference.contextElement&&(T=T.concat(re(s.reference.contextElement)))),T=T.filter(q=>{var te;return q!==((te=j.defaultView)==null?void 0:te.visualViewport)}),T.forEach(q=>{q.addEventListener("scroll",O,{passive:!0})}),()=>{c&&(j.removeEventListener("keydown",C?L:B,C),j.removeEventListener("compositionstart",$),j.removeEventListener("compositionend",R)),b&&j.removeEventListener(u,v?V:z,v),T.forEach(q=>{q.removeEventListener("scroll",O)}),window.clearTimeout(D)}},[a,s,c,b,u,n,o,g,i,k,M,B,C,L,z,v,V]),_.useEffect(()=>{N.current=!1},[b,u]);const A=_.useMemo(()=>({onKeyDown:B,[Ea[f]]:D=>{p&&o(!1,D.nativeEvent,"reference-press")}}),[B,o,p,f]),F=_.useMemo(()=>({onKeyDown:B,onMouseDown(){y.current=!0},onMouseUp(){y.current=!0},[Da[u]]:()=>{N.current=!0}}),[B,u]);return _.useMemo(()=>i?{reference:A,floating:F}:{},[i,A,F])}function ka(e){const{open:t=!1,onOpenChange:n,elements:o}=e,s=xa(),a=_.useRef({}),[i]=_.useState(()=>va()),c=ya()!=null,[l,u]=_.useState(o.reference),p=he((m,x,d)=>{a.current.openEvent=m?x:void 0,i.emit("openchange",{open:m,event:x,reason:d,nested:c}),n==null||n(m,x,d)}),f=_.useMemo(()=>({setPositionReference:u}),[]),g=_.useMemo(()=>({reference:l||o.reference||null,floating:o.floating||null,domReference:o.reference}),[l,o.reference,o.floating]);return _.useMemo(()=>({dataRef:a,open:t,onOpenChange:p,elements:g,events:i,floatingId:s,refs:f}),[t,p,g,i,s,f])}function Ma(e){e===void 0&&(e={});const{nodeId:t}=e,n=ka({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,s=o.elements,[a,i]=_.useState(null),[c,l]=_.useState(null),p=(s==null?void 0:s.domReference)||a,f=_.useRef(null),g=pn();at(()=>{p&&(f.current=p)},[p]);const m=la({...e,elements:{...s,...c&&{reference:c}}}),x=_.useCallback(y=>{const k=S(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;l(k),m.refs.setReference(k)},[m.refs]),d=_.useCallback(y=>{(S(y)||y===null)&&(f.current=y,i(y)),(S(m.refs.reference.current)||m.refs.reference.current===null||y!==null&&!S(y))&&m.refs.setReference(y)},[m.refs]),w=_.useMemo(()=>({...m.refs,setReference:d,setPositionReference:x,domReference:f}),[m.refs,d,x]),b=_.useMemo(()=>({...m.elements,domReference:p}),[m.elements,p]),N=_.useMemo(()=>({...m,...o,refs:w,elements:b,nodeId:t}),[m,w,b,t,o]);return at(()=>{o.dataRef.current.floatingContext=N;const y=g==null?void 0:g.nodesRef.current.find(k=>k.id===t);y&&(y.context=N)}),_.useMemo(()=>({...m,context:N,refs:w,elements:b}),[m,w,b,N])}const Wt="active",zt="selected";function Je(e,t,n){const o=new Map,s=n==="item";let a=e;if(s&&e){const{[Wt]:i,[zt]:c,...l}=e;a=l}return{...n==="floating"&&{tabIndex:-1,[Na]:""},...a,...t.map(i=>{const c=i?i[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((i,c)=>(c&&Object.entries(c).forEach(l=>{let[u,p]=l;if(!(s&&[Wt,zt].includes(u)))if(u.indexOf("on")===0){if(o.has(u)||o.set(u,[]),typeof p=="function"){var f;(f=o.get(u))==null||f.push(p),i[u]=function(){for(var g,m=arguments.length,x=new Array(m),d=0;d<m;d++)x[d]=arguments[d];return(g=o.get(u))==null?void 0:g.map(w=>w(...x)).find(w=>w!==void 0)}}}else i[u]=p}),i),{})}}function Oa(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),n=e.map(c=>c==null?void 0:c.floating),o=e.map(c=>c==null?void 0:c.item),s=_.useCallback(c=>Je(c,e,"reference"),t),a=_.useCallback(c=>Je(c,e,"floating"),n),i=_.useCallback(c=>Je(c,e,"item"),o);return _.useMemo(()=>({getReferenceProps:s,getFloatingProps:a,getItemProps:i}),[s,a,i])}const Ba=({})=>{const[e,t]=_.useState(!1),n=P(Nn),o=P(ct),s=n&&(o!=null&&o.name)?o.name:"User",{refs:a,floatingStyles:i,context:c}=Ma({open:e,onOpenChange:t,middleware:[ua(4),ma(),da()],whileElementsMounted:sa}),l=Ca(c),u=Ra(c),{getReferenceProps:p,getFloatingProps:f}=Oa([l,u]);return r.jsxs(r.Fragment,{children:[r.jsxs("button",{type:"button",ref:a.setReference,...p(),className:pe.btn,children:[r.jsx("h4",{className:pe.name,children:s}),o!=null&&o.avatar?r.jsx("img",{src:o.avatar,alt:"User avatar",className:pe.avatar}):r.jsx(jr,{className:pe.avatar}),r.jsx(W,{id:"icon-menu",className:be(pe.icon,{[pe.rotated]:e})})]}),e&&r.jsx("div",{ref:a.setFloating,style:i,...f(),children:r.jsx(pr,{closePopover:()=>t(!1)})})]})},Ta="_title_u30td_1",$a="_span_u30td_10",Pa="_mainBox_u30td_15",Qe={title:Ta,span:$a,mainBox:Pa},Sa=()=>{const{t:e}=Z(),{name:t}=P(ct);return r.jsxs("div",{className:Qe.mainBox,children:[r.jsxs("h2",{className:Qe.title,children:[e("userPanel.greeting")," ",r.jsxs("span",{className:Qe.span,children:[", ",t,"!"]})]}),r.jsx(Ba,{})]})},Fa="_mainBox_ea0td_1",Ia={mainBox:Fa},La="_buttonPrev_12fj2_6",Aa="_calendarPag_12fj2_11",Wa="_yearField_12fj2_18",za="_iconArrow_12fj2_22",Va="_buttonArrow_12fj2_26",ge={buttonPrev:La,calendarPag:Aa,yearField:Wa,iconArrow:za,buttonArrow:Va},qa=()=>{const e=P(me),t=new Date(e),n=ie(),o=()=>{const c=yt(t,!1);n(tt(c.date.toISOString()))},s=()=>{const c=yt(t,!0);n(tt(c.date.toISOString()))},a=ut(t),i=t.getFullYear();return r.jsxs("span",{className:ge.calendarPag,children:[r.jsx("button",{type:"button",className:ge.buttonPrev,onClick:o,children:r.jsx("svg",{className:ge.iconArrow,children:r.jsx("use",{href:nt+"#icon-prev_month"})})}),r.jsxs("span",{children:[a,", "]}),r.jsx("span",{className:ge.yearField,children:i}),r.jsx("button",{type:"button",className:ge.buttonArrow,onClick:s,children:r.jsx("svg",{className:ge.iconArrow,children:r.jsx("use",{href:nt+"#icon-next_month"})})})]})},Ha="_monthInfo_1clhk_1",Ua="_wrapper_1clhk_6",Ya="_monthInfoHeader_1clhk_12",Ka="_pagination_1clhk_20",Za="_iconStat_1clhk_24",De={monthInfo:Ha,wrapper:Ua,monthInfoHeader:Ya,pagination:Ka,iconStat:Za},Xa="_button_19kw2_1",Ga="_day_19kw2_8",Ja="_outstanding_19kw2_25",Qa="_active_19kw2_29",ei="_rate_19kw2_34",Re={button:Xa,day:Ga,outstanding:Ja,active:Qa,rate:ei},ti=({initialDay:e,waterNorma:t=1500,waterAmount:n=0})=>{const o=P(Po),s=P(me),a=new Date(s),i=a.getMonth(),c=a.getFullYear(),l=(x,d,w)=>new Date(x,d,w).toISOString(),u=ie(),p=()=>{u(Cn(e)),u(tt(l(c,i,e)))},f=Math.round(n*100/(t*1e3)),g=f<100,m=o===e;return r.jsxs("button",{type:"button",className:Re.button,onClick:p,children:[r.jsx("span",{className:be(Re.day,g&&Re.outstanding,m&&Re.active),children:e}),r.jsxs("span",{className:Re.rate,children:[f,"%"]})]})},ni="_calendar_1nf7f_1",oi={calendar:ni},si=()=>{const e=P(me),t=P(it),n=P(lt),o=new Date(e),s=o.getMonth(),a=o.getFullYear(),i=Zn(o),c=[];for(let l=1;l<=i;l++){let u=parseInt(l.toString()+s.toString()+a.toString());const p=new Date(a,s,l),f=dt(n,p),g=Xt(f);c.push(r.jsx("li",{children:r.jsx(ti,{initialDay:l,waterNorma:t,waterAmount:g})},u))}return r.jsx("ul",{className:oi.calendar,children:c})},ri=({})=>{const e=new Date,t=ut(e),n=e.getFullYear();return r.jsxs("section",{className:`${De.monthInfo} monthInfo`,children:[r.jsxs("div",{className:De.wrapper,children:[r.jsx("h2",{className:De.monthInfoHeader,children:"Month"}),r.jsx("span",{className:De.pagination,children:r.jsx(qa,{initialMonth:t,InitialYear:n})}),r.jsx("button",{type:"button",children:r.jsx("svg",{className:De.iconStat,children:r.jsx("use",{href:nt+"#icon-statistics"})})})]}),r.jsx(si,{})]})},ai=({})=>r.jsxs("div",{className:Ia.mainBox,children:[r.jsx(Sa,{}),r.jsx(as,{}),r.jsx(ri,{})]}),ii="_wrapper_1vy4n_1",ci="_wrapperStyle_1vy4n_6",Vt={wrapper:ii,wrapperStyle:ci},li=[{selector:".normaLitr",content:"Your daily water intake"},{selector:".scale",content:"A scale that displays the ratio of the water you actually drink per day to your daily water intake requirement"},{selector:".addWaterText",content:"Click to add water!"},{selector:".monthInfo",content:"Detailed information about the water drunk for the selected day and month"}],_i=()=>{const e=ie(),t=P(qt),n=P(Kt),o=P(me),s=new Date(o),a=Xn(s.getMonth()+1),i=s.getFullYear();return _.useEffect(()=>{e(En({year:i,month:a}))},[e,a,i]),r.jsxs(Mn,{steps:li,children:[r.jsx("div",{className:Vt.wrapperStyle,children:r.jsx(kn,{})}),r.jsx(On,{}),r.jsxs("div",{className:Vt.wrapper,children:[t||n&&r.jsx(Rn,{}),r.jsx(Eo,{}),r.jsx(ai,{})]})]})};export{_i as default};
//# sourceMappingURL=TrackerPage-DEXAvtc3.js.map
