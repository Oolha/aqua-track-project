import{c as P,r as d,u as v,a as k,j as e,L as E,b as $}from"./index-M-rSfmPs.js";import{A as T}from"./AdvantagesSection-B-5-Rrvj.js";import{u as F,I as x}from"./index.esm-DHxg2RFt.js";import{c as I,a as u,b as R,o as q}from"./yup-COCZn-On.js";import{L as B}from"./Logo-D8J6iTqY.js";const L="_containerUp_1whap_1",W="_formUp_1whap_9",O="_titleUp_1whap_20",A="_labelUp_1whap_29",z="_inputUp_1whap_38",C="_errorText_1whap_55",H="_btnUp_1whap_63",V="_textUp_1whap_77",D="_linkUp_1whap_84",M="_iconButton_1whap_90",G="_inputWrapper_1whap_102",J="_inputError_1whap_107",K="_notification_1whap_112",Q="_fadeInOut_1whap_1",X="_success_1whap_131",Y="_error_1whap_55",Z="_info_1whap_141",ee="_warning_1whap_146",s={containerUp:L,formUp:W,titleUp:O,labelUp:A,inputUp:z,errorText:C,btnUp:H,textUp:V,linkUp:D,iconButton:M,inputWrapper:G,inputError:J,notification:K,fadeInOut:Q,success:X,error:Y,info:Z,warning:ee},se={token:null,error:null},ae=P({name:"auth",initialState:se,reducers:{loginSuccess(a,r){a.token=r.payload,a.error=null},loginFailure(a,r){a.token=null,a.error=r.payload},logout(a){a.token=null,a.error=null}}}),{loginSuccess:te,loginFailure:re,logout:he}=ae.actions,ne=I().shape({email:u().email("Invalid email format").min(3,"Enter a real email!").max(50,"Too Long!").required("Email is required"),password:u().min(4,"Enter a real password!").max(50,"Too long").required("Password is required"),repeatPassword:u().min(4,"Enter a real password!").max(50,"Too long").oneOf([R("password"),null],"Passwords must match!").required("Password is required")});function oe(){const[a,r]=d.useState(!1),[o,g]=d.useState(!1),[p,m]=d.useState(null),f=v(),h=k(),j=()=>r(n=>!n),b=()=>g(n=>!n),{register:l,handleSubmit:N,formState:{errors:t},reset:y}=F({resolver:q(ne)}),S=async n=>{var w,_;try{const c=await $.post("http://localhost:5173/api/signup",n);//! імітація запиту для перевірки роботи коду без бекенду
const{token:i}=c.data;h(te(i)),y(),f("/tracker")}catch(c){const i=((_=(w=c.response)==null?void 0:w.data)==null?void 0:_.message)||"Registration failed. Please try again.";h(re(i)),m({message:i,type:"error"}),setTimeout(()=>m(null),8e3)}};return e.jsxs("div",{className:s.containerUp,children:[e.jsx(B,{}),e.jsxs("div",{className:s.formUp,children:[e.jsx("h2",{className:s.titleUp,children:"Sign Up"}),e.jsxs("form",{onSubmit:N(S),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:s.labelUp,children:"Email"}),e.jsx("input",{...l("email"),type:"email",name:"email",placeholder:"Enter your email",className:`${s.inputUp} ${t.email?s.inputError:""}`}),t.email&&e.jsx("p",{className:s.errorText,children:t.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:s.labelUp,children:"Password"}),e.jsxs("div",{className:s.inputWrapper,children:[e.jsx("input",{...l("password"),type:a?"text":"password",name:"password",placeholder:"Enter your password",className:`${s.inputUp} ${t.password?s.inputError:""}  `}),t.password&&e.jsx("p",{className:s.errorText,children:t.password.message}),e.jsx("button",{className:s.iconButton,type:"button",onClick:j,"aria-label":o?"Hide repeat password":"Show repeat password",children:e.jsx(x,{id:a?"icon-eye":"icon-eye-off",size:24})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:s.labelUp,children:"Repeat password"}),e.jsxs("div",{className:s.inputWrapper,children:[e.jsx("input",{...l("repeatPassword"),type:o?"text":"password",name:"repeatPassword",placeholder:"Repeat password",className:`${s.inputUp} ${t.repeatPassword?s.inputError:""}`}),t.repeatPassword&&e.jsx("p",{className:s.errorText,children:t.repeatPassword.message}),e.jsx("button",{className:s.iconButton,type:"button",onClick:b,"aria-label":o?"Hide repeat password":"Show repeat password",children:e.jsx(x,{id:o?"icon-eye":"icon-eye-off",size:24})})]})]}),e.jsx("button",{type:"submit",className:s.btnUp,children:"Sign Up"})]}),p&&e.jsx("div",{className:`${s.notification} ${s[p.type]}`,children:p.message}),e.jsx("div",{children:e.jsxs("p",{className:s.textUp,children:["Already have account?"," ",e.jsx(E,{to:"/signin",className:s.linkUp,children:"Sign In"})]})})]})]})}const ie="_hidden_1sk8w_1",pe="_signUp_1sk8w_11",U={hidden:ie,signUp:pe};function we(){return e.jsxs("div",{className:U.signUp,children:[e.jsx(oe,{}),e.jsx("div",{className:U.hidden,children:e.jsx(T,{})})]})}export{we as default};
//# sourceMappingURL=SignUpPage-Dd0Q8Wr3.js.map
