{"version":3,"file":"SignUpPage-Dd0Q8Wr3.js","sources":["../../src/redux/auth/slice.js","../../src/components/SignUp/SignUp.jsx","../../src/pages/SignUpPage/SignUpPage.jsx"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  token: null,\n  error: null,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    loginSuccess(state, action) {\n      state.token = action.payload;\n      state.error = null;\n    },\n    loginFailure(state, action) {\n      state.token = null;\n      state.error = action.payload;\n    },\n    logout(state) {\n      state.token = null;\n      state.error = null;\n    },\n  },\n});\n\nexport const { loginSuccess, loginFailure, logout } = authSlice.actions;\nconst authReducer = authSlice.reducer;\nexport default authReducer;\n","import { Link, useNavigate } from 'react-router-dom';\nimport css from './SignUp.module.css';\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Icon } from '../Icon/Icon.jsx';\nimport * as Yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useForm } from 'react-hook-form';\nimport Logo from '../../components/Logo/Logo.jsx';\nimport axios from 'axios';\nimport { loginFailure, loginSuccess } from '../../redux/auth/slice.js';\n\nconst schema = Yup.object().shape({\n  email: Yup.string()\n    .email('Invalid email format')\n    .min(3, 'Enter a real email!')\n    .max(50, 'Too Long!')\n    .required('Email is required'),\n  password: Yup.string()\n    .min(4, 'Enter a real password!')\n    .max(50, 'Too long')\n    .required('Password is required'),\n  repeatPassword: Yup.string()\n    .min(4, 'Enter a real password!')\n    .max(50, 'Too long')\n    .oneOf([Yup.ref('password'), null], 'Passwords must match!')\n    .required('Password is required'),\n});\n\nfunction SignUpForm() {\n  const [showPwd, setShowPwd] = useState(false);\n  const [showRepeatPwd, setShowRepeatPwd] = useState(false);\n  const [notification, setNotification] = useState(null);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const togglePwdVisibility = () => setShowPwd((prev) => !prev);\n  const toggleRepeatPwdVisibility = () => setShowRepeatPwd((prev) => !prev);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = async (data) => {\n    try {\n      const response = await axios.post(\n        'http://localhost:5173/api/signup',\n        data\n      );\n\n      //! імітація запиту для перевірки роботи коду без бекенду\n      /*       const response = {\n        data: {\n          token: 'fakeToken123', // Симулюємо отримання токену\n        },\n      }; */\n\n      const { token } = response.data;\n\n      dispatch(loginSuccess(token));\n\n      reset();\n      navigate('/tracker');\n    } catch (error) {\n      const errorMessage =\n        error.response?.data?.message ||\n        'Registration failed. Please try again.';\n      dispatch(loginFailure(errorMessage));\n      setNotification({\n        message: errorMessage,\n        type: 'error',\n      });\n\n      setTimeout(() => setNotification(null), 8000);\n    }\n  };\n\n  return (\n    <div className={css.containerUp}>\n      <Logo />\n      <div className={css.formUp}>\n        <h2 className={css.titleUp}>Sign Up</h2>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <div>\n            <label htmlFor=\"email\" className={css.labelUp}>\n              Email\n            </label>\n            <input\n              {...register('email')}\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Enter your email\"\n              className={`${css.inputUp} ${errors.email ? css.inputError : ''}`}\n            />\n            {errors.email && (\n              <p className={css.errorText}>{errors.email.message}</p>\n            )}\n          </div>\n\n          <div>\n            <label htmlFor=\"password\" className={css.labelUp}>\n              Password\n            </label>\n            <div className={css.inputWrapper}>\n              <input\n                {...register('password')}\n                type={showPwd ? 'text' : 'password'}\n                name=\"password\"\n                placeholder=\"Enter your password\"\n                className={`${css.inputUp} ${\n                  errors.password ? css.inputError : ''\n                }  `}\n              />\n              {errors.password && (\n                <p className={css.errorText}>{errors.password.message}</p>\n              )}\n\n              <button\n                className={css.iconButton}\n                type=\"button\"\n                onClick={togglePwdVisibility}\n                aria-label={\n                  showRepeatPwd\n                    ? 'Hide repeat password'\n                    : 'Show repeat password'\n                }\n              >\n                <Icon id={showPwd ? 'icon-eye' : 'icon-eye-off'} size={24} />\n              </button>\n            </div>\n          </div>\n          <div>\n            <label htmlFor=\"password\" className={css.labelUp}>\n              Repeat password\n            </label>\n            <div className={css.inputWrapper}>\n              <input\n                {...register('repeatPassword')}\n                type={showRepeatPwd ? 'text' : 'password'}\n                name=\"repeatPassword\"\n                placeholder=\"Repeat password\"\n                className={`${css.inputUp} ${\n                  errors.repeatPassword ? css.inputError : ''\n                }`}\n              />\n              {errors.repeatPassword && (\n                <p className={css.errorText}>{errors.repeatPassword.message}</p>\n              )}\n              <button\n                className={css.iconButton}\n                type=\"button\"\n                onClick={toggleRepeatPwdVisibility}\n                aria-label={\n                  showRepeatPwd\n                    ? 'Hide repeat password'\n                    : 'Show repeat password'\n                }\n              >\n                <Icon\n                  id={showRepeatPwd ? 'icon-eye' : 'icon-eye-off'}\n                  size={24}\n                />\n              </button>\n            </div>\n          </div>\n\n          <button type=\"submit\" className={css.btnUp}>\n            Sign Up\n          </button>\n        </form>\n        {notification && (\n          <div className={`${css.notification} ${css[notification.type]}`}>\n            {notification.message}\n          </div>\n        )}\n        <div>\n          <p className={css.textUp}>\n            Already have account?{' '}\n            <Link to=\"/signin\" className={css.linkUp}>\n              Sign In\n            </Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SignUpForm;\n","import AdvantagesSection from '../../components/AdvantagesSection/AdvantagesSection.jsx';\nimport SignUpForm from '../../components/SignUp/SignUp.jsx';\nimport css from './SignUpPage.module.css';\n\nfunction SignUpPage() {\n  return (\n    /*   <div className={css.container}> */\n    <div className={css.signUp}>\n      <SignUpForm />\n      <div className={css.hidden}>\n        <AdvantagesSection />\n      </div>\n    </div>\n  );\n}\n\nexport default SignUpPage;\n"],"names":["initialState","authSlice","createSlice","state","action","loginSuccess","loginFailure","logout","schema","Yup.object","Yup.string","Yup.ref","SignUpForm","showPwd","setShowPwd","useState","showRepeatPwd","setShowRepeatPwd","notification","setNotification","navigate","useNavigate","dispatch","useDispatch","togglePwdVisibility","prev","toggleRepeatPwdVisibility","register","handleSubmit","errors","reset","useForm","yupResolver","onSubmit","data","response","axios","token","error","errorMessage","_b","_a","jsxs","css","jsx","Logo","Icon","Link","SignUpPage","AdvantagesSection"],"mappings":"s4BAEMA,GAAe,CACnB,MAAO,KACP,MAAO,IACT,EAEMC,GAAYC,EAAY,CAC5B,KAAM,OACN,aAAAF,GACA,SAAU,CACR,aAAaG,EAAOC,EAAQ,CAC1BD,EAAM,MAAQC,EAAO,QACrBD,EAAM,MAAQ,IACf,EACD,aAAaA,EAAOC,EAAQ,CAC1BD,EAAM,MAAQ,KACdA,EAAM,MAAQC,EAAO,OACtB,EACD,OAAOD,EAAO,CACZA,EAAM,MAAQ,KACdA,EAAM,MAAQ,IACf,CACF,CACH,CAAC,EAEY,CAAE,aAAAE,GAAc,aAAAC,GAAc,OAAAC,EAAQ,EAAGN,GAAU,QCd1DO,GAASC,EAAW,EAAE,MAAM,CAChC,MAAOC,EACJ,EAAA,MAAM,sBAAsB,EAC5B,IAAI,EAAG,qBAAqB,EAC5B,IAAI,GAAI,WAAW,EACnB,SAAS,mBAAmB,EAC/B,SAAUA,EAAW,EAClB,IAAI,EAAG,wBAAwB,EAC/B,IAAI,GAAI,UAAU,EAClB,SAAS,sBAAsB,EAClC,eAAgBA,EAAW,EACxB,IAAI,EAAG,wBAAwB,EAC/B,IAAI,GAAI,UAAU,EAClB,MAAM,CAACC,EAAQ,UAAU,EAAG,IAAI,EAAG,uBAAuB,EAC1D,SAAS,sBAAsB,CACpC,CAAC,EAED,SAASC,IAAa,CACpB,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAS,EAAK,EACtC,CAACC,EAAeC,CAAgB,EAAIF,EAAAA,SAAS,EAAK,EAClD,CAACG,EAAcC,CAAe,EAAIJ,EAAAA,SAAS,IAAI,EAC/CK,EAAWC,EAAY,EACvBC,EAAWC,EAAY,EAEvBC,EAAsB,IAAMV,EAAYW,GAAS,CAACA,CAAI,EACtDC,EAA4B,IAAMT,EAAkBQ,GAAS,CAACA,CAAI,EAElE,CACJ,SAAAE,EACA,aAAAC,EACA,UAAW,CAAE,OAAAC,CAAO,EACpB,MAAAC,GACEC,EAAQ,CACV,SAAUC,EAAYxB,EAAM,CAAA,CAC7B,EAEKyB,EAAW,MAAOC,GAAS,SAC3B,GAAA,CACI,MAAAC,EAAW,MAAMC,EAAM,KAC3B,mCACAF,CACF,EAAA;AASM,KAAA,CAAE,MAAAG,GAAUF,EAAS,KAElBb,EAAAjB,GAAagC,CAAK,CAAC,EAEtBP,EAAA,EACNV,EAAS,UAAU,QACZkB,EAAO,CACd,MAAMC,IACJC,GAAAC,EAAAH,EAAM,WAAN,YAAAG,EAAgB,OAAhB,YAAAD,EAAsB,UACtB,yCACOlB,EAAAhB,GAAaiC,CAAY,CAAC,EACnBpB,EAAA,CACd,QAASoB,EACT,KAAM,OAAA,CACP,EAED,WAAW,IAAMpB,EAAgB,IAAI,EAAG,GAAI,CAAA,CAEhD,EAEA,OACGuB,EAAAA,KAAA,MAAA,CAAI,UAAWC,EAAI,YAClB,SAAA,CAAAC,EAAA,IAACC,EAAK,EAAA,EACLH,EAAA,KAAA,MAAA,CAAI,UAAWC,EAAI,OAClB,SAAA,CAAAC,EAAA,IAAC,KAAG,CAAA,UAAWD,EAAI,QAAS,SAAO,UAAA,EAClCD,EAAA,KAAA,OAAA,CAAK,SAAUd,EAAaK,CAAQ,EACnC,SAAA,CAAAS,OAAC,MACC,CAAA,SAAA,CAAAE,MAAC,SAAM,QAAQ,QAAQ,UAAWD,EAAI,QAAS,SAE/C,QAAA,EACAC,EAAA,IAAC,QAAA,CACE,GAAGjB,EAAS,OAAO,EACpB,KAAK,QACL,KAAK,QACL,YAAY,mBACZ,UAAW,GAAGgB,EAAI,OAAO,IAAId,EAAO,MAAQc,EAAI,WAAa,EAAE,EAAA,CACjE,EACCd,EAAO,OACLe,MAAA,IAAA,CAAE,UAAWD,EAAI,UAAY,SAAOd,EAAA,MAAM,OAAQ,CAAA,CAAA,EAEvD,SAEC,MACC,CAAA,SAAA,CAAAe,MAAC,SAAM,QAAQ,WAAW,UAAWD,EAAI,QAAS,SAElD,WAAA,EACCD,EAAA,KAAA,MAAA,CAAI,UAAWC,EAAI,aAClB,SAAA,CAAAC,EAAA,IAAC,QAAA,CACE,GAAGjB,EAAS,UAAU,EACvB,KAAMd,EAAU,OAAS,WACzB,KAAK,WACL,YAAY,sBACZ,UAAW,GAAG8B,EAAI,OAAO,IACvBd,EAAO,SAAWc,EAAI,WAAa,EACrC,IAAA,CACF,EACCd,EAAO,UACLe,MAAA,IAAA,CAAE,UAAWD,EAAI,UAAY,SAAOd,EAAA,SAAS,OAAQ,CAAA,EAGxDe,EAAA,IAAC,SAAA,CACC,UAAWD,EAAI,WACf,KAAK,SACL,QAASnB,EACT,aACER,EACI,uBACA,uBAGN,eAAC8B,EAAK,CAAA,GAAIjC,EAAU,WAAa,eAAgB,KAAM,EAAI,CAAA,CAAA,CAAA,CAC7D,CACF,CAAA,CAAA,EACF,SACC,MACC,CAAA,SAAA,CAAA+B,MAAC,SAAM,QAAQ,WAAW,UAAWD,EAAI,QAAS,SAElD,kBAAA,EACCD,EAAA,KAAA,MAAA,CAAI,UAAWC,EAAI,aAClB,SAAA,CAAAC,EAAA,IAAC,QAAA,CACE,GAAGjB,EAAS,gBAAgB,EAC7B,KAAMX,EAAgB,OAAS,WAC/B,KAAK,iBACL,YAAY,kBACZ,UAAW,GAAG2B,EAAI,OAAO,IACvBd,EAAO,eAAiBc,EAAI,WAAa,EAC3C,EAAA,CACF,EACCd,EAAO,gBACLe,MAAA,IAAA,CAAE,UAAWD,EAAI,UAAY,SAAOd,EAAA,eAAe,OAAQ,CAAA,EAE9De,EAAA,IAAC,SAAA,CACC,UAAWD,EAAI,WACf,KAAK,SACL,QAASjB,EACT,aACEV,EACI,uBACA,uBAGN,SAAA4B,EAAA,IAACE,EAAA,CACC,GAAI9B,EAAgB,WAAa,eACjC,KAAM,EAAA,CAAA,CACR,CAAA,CACF,CACF,CAAA,CAAA,EACF,QAEC,SAAO,CAAA,KAAK,SAAS,UAAW2B,EAAI,MAAO,SAE5C,SAAA,CAAA,CAAA,EACF,EACCzB,GACC0B,EAAA,IAAC,MAAI,CAAA,UAAW,GAAGD,EAAI,YAAY,IAAIA,EAAIzB,EAAa,IAAI,CAAC,GAC1D,WAAa,QAChB,QAED,MACC,CAAA,SAAAwB,EAAA,KAAC,IAAE,CAAA,UAAWC,EAAI,OAAQ,SAAA,CAAA,wBACF,UACrBI,EAAK,CAAA,GAAG,UAAU,UAAWJ,EAAI,OAAQ,SAE1C,SAAA,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,CAEJ,0EC3LA,SAASK,IAAa,CACpB,OAEGN,EAAA,KAAA,MAAA,CAAI,UAAWC,EAAI,OAClB,SAAA,CAAAC,EAAA,IAAChC,GAAW,EAAA,QACX,MAAI,CAAA,UAAW+B,EAAI,OAClB,SAAAC,EAAA,IAACK,IAAkB,CACrB,CAAA,CAAA,CACF,CAAA,CAEJ"}