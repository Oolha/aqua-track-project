{"version":3,"file":"SignInPage-7RD7uue9.js","sources":["../../src/components/SignIn/SignIn.jsx","../../src/pages/SignInPage/SignInPage.jsx"],"sourcesContent":["import { Link, useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport * as Yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useForm } from 'react-hook-form';\nimport { Icon } from '../Icon/Icon.jsx';\nimport Logo from '../../components/Logo/Logo.jsx';\nimport css from './SignIn.module.css'; // Стилі форми\nimport { useDispatch } from 'react-redux';\nimport { fetchSignIn } from '../../redux/auth/operations.js';\nimport { useTranslation } from 'react-i18next';\n\nconst schema = Yup.object({\n  email: Yup.string()\n    .email('Invalid email format')\n    .required('Email is required'),\n  password: Yup.string()\n    .min(8, 'Password must be at least 8 characters')\n    .required('Password is required'),\n});\n\nfunction SignInForm() {\n  const { t } = useTranslation();\n  const [showPwd, setShowPwd] = useState(false);\n  const [notification, setNotification] = useState(null); // Для повідомлень\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const togglePwdVisibility = () => setShowPwd((prev) => !prev);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = async (data) => {\n    try {\n      await dispatch(fetchSignIn(data)).unwrap();\n\n      reset();\n      navigate('/tracker');\n    } catch (error) {\n      const errorMessage =\n        error?.message || t('signIn.failedLogin'); // Используем перевод для сообщения об ошибке\n\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(null), 5000);\n    }\n  };\n\n  return (\n    <>\n      <div className={css.loginContainer}>\n        <Logo />\n        <div className={css.formWrapper}>\n          <h2 className={css.title}>{t('signIn.title')}</h2>\n          <form\n            onSubmit={handleSubmit(onSubmit)}\n            className={css.form}\n            noValidate\n          >\n            <div className={css.field}>\n              <label htmlFor=\"email\" className={css.formLabel}>\n                {t('signIn.email')}\n              </label>\n              <input\n                {...register('email')}\n                type=\"email\"\n                placeholder={t('signIn.placeholderEmail')}\n                className={`${css.formInput} ${errors.email ? css.error : ''}`}\n              />\n              {errors.email && (\n                <p className={css.errorMessage}>{errors.email.message}</p>\n              )}\n            </div>\n\n            <div className={css.field}>\n              <label htmlFor=\"password\" className={css.formLabel}>\n                {t('signIn.password')}\n              </label>\n              <div className={css.passwordWrapper}>\n                <input\n                  {...register('password')}\n                  type={showPwd ? 'text' : 'password'}\n                  placeholder={t('signIn.placeholderPassword')}\n                  className={`${css.formInput} ${\n                    errors.password ? css.error : ''\n                  }`}\n                />\n\n                <button\n                  type=\"button\"\n                  className={css.passwordToggle}\n                  onClick={togglePwdVisibility}\n                  aria-label={showPwd ? t('signIn.hidePassword') : t('signIn.showPassword')}\n                >\n                  <Icon\n                    id={showPwd ? 'icon-eye' : 'icon-eye-off'}\n                    size={20}\n                    className={css.iconEye}\n                  />\n                </button>\n              </div>\n            </div>\n            {errors.password && (\n              <p className={css.errorMessage}>{errors.password.message}</p>\n            )}\n            <div className={css.btnWrapper}>\n              <button type=\"submit\" className={css.formButton}>\n                {t('homepage.welcome.signInBtn')}\n              </button>\n            </div>\n          </form>\n\n          <div>\n            <p className={css.signinText}>\n              {t('signIn.account')}{' '}\n              <Link to=\"/signup\" className={css.signupLink}>\n                {t('signIn.signUp')}\n              </Link>\n            </p>\n          </div>\n        </div>\n\n        {notification && <div className={css.notification}>{notification}</div>}\n      </div>\n    </>\n  );\n}\n\nexport default SignInForm;","import SignInForm from '../../components/SignIn/SignIn.jsx';\nimport css from './SignInPage.module.css';\nimport AdvantagesSection from '../../components/AdvantagesSection/AdvantagesSection.jsx';\nimport { useSelector } from 'react-redux';\nimport { selectAuthIsLoading } from '../../redux/auth/selectors.js';\nimport Loader from '../../components/Loader/Loader.jsx';\nimport Languages from '../../components/Languages/Languages';\n\nfunction SignInPage() {\n  const isLoading = useSelector(selectAuthIsLoading);\n  return (\n  <div className={css.wrapperStyle}>\n    <Languages />\n    <div className={css.login}>\n      {isLoading && <Loader />}\n      <SignInForm />\n      <div className={css.advantages}>\n        <AdvantagesSection />\n      </div>\n    </div>\n  </div>\n  );\n}\n\nexport default SignInPage;\n\n"],"names":["schema","Yup.object","Yup.string","SignInForm","t","useTranslation","showPwd","setShowPwd","useState","notification","setNotification","navigate","useNavigate","dispatch","useDispatch","togglePwdVisibility","prev","register","handleSubmit","errors","reset","useForm","yupResolver","onSubmit","data","fetchSignIn","error","errorMessage","jsx","Fragment","jsxs","css","Logo","Icon","Link","SignInPage","isLoading","useSelector","selectAuthIsLoading","Languages","Loader","AdvantagesSection"],"mappings":"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"}