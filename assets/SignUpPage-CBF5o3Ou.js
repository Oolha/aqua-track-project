import{r as l,u as E,a as $,j as e,L as k,f as T}from"./index-Cmox7QfA.js";import{A as F}from"./AdvantagesSection-Bp-au0pE.js";import{c as I,a as c,b as R,u as q,I as h,o as B}from"./yup-DWdqM21y.js";import{L as W}from"./Logo-6HpdK9bN.js";const L="_containerUp_14xhd_1",O="_formUp_14xhd_8",A="_titleUp_14xhd_19",C="_labelUp_14xhd_29",V="_inputWrapper_14xhd_39",z="_inputUp_14xhd_44",H="_icon_14xhd_64",D="_errorText_14xhd_80",M="_btnUp_14xhd_87",G="_textUp_14xhd_107",J="_linkUp_14xhd_116",K="_iconButton_14xhd_127",Q="_inputError_14xhd_139",X="_notification_14xhd_152",Y="_fadeInOut_14xhd_1",Z="_error_14xhd_80",s={containerUp:L,formUp:O,titleUp:A,labelUp:C,inputWrapper:V,inputUp:z,icon:H,errorText:D,btnUp:M,textUp:G,linkUp:J,iconButton:K,inputError:Q,notification:X,fadeInOut:Y,error:Z},ee=I().shape({email:c().email("Invalid email format").required("Email is required"),password:c().min(8,"Enter a real password!").max(50,"Too long").required("Password is required"),repeatPassword:c().min(8,"Enter a real password!").max(50,"Too long").oneOf([R("password"),null],"Passwords must match!").required("Password is required")});function se(){const[d,_]=l.useState(!1),[n,w]=l.useState(!1),[i,o]=l.useState(null),U=E(),g=$(),j=()=>_(r=>!r),f=()=>w(r=>!r),{register:p,handleSubmit:b,formState:{errors:a},reset:N}=q({resolver:B(ee),mode:"onChange"}),y=async r=>{var m,u;console.log("Form data:",r);const{email:P,password:S}=r;try{const t=await g(T({email:P,password:S})).unwrap();N(),U("/tracker")}catch(t){const v=(t==null?void 0:t.message)||"Failed to sign up. Please try again.";o({message:((u=(m=t==null?void 0:t.response)==null?void 0:m.data)==null?void 0:u.message)||"Registration failed. Please try again.",type:"error"}),setTimeout(()=>o(null),8e3),o(v),setTimeout(()=>o(null),5e3)}};return e.jsxs("div",{className:s.containerUp,children:[e.jsx(W,{}),e.jsxs("div",{className:s.formUp,children:[e.jsx("h2",{className:s.titleUp,children:"Sign Up"}),e.jsxs("form",{onSubmit:b(y),noValidate:!0,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:s.labelUp,children:"Email"}),e.jsx("input",{...p("email"),type:"email",name:"email",placeholder:"Enter your email",className:`${s.inputUp} ${a.email?s.inputError:""}`})]}),a.email&&e.jsx("p",{className:s.errorText,children:a.email.message}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:s.labelUp,children:"Password"}),e.jsxs("div",{className:s.inputWrapper,children:[e.jsx("input",{...p("password"),type:d?"text":"password",name:"password",placeholder:"Enter your password",className:`${s.inputUp} ${a.password?s.inputError:""}  `}),e.jsx("button",{className:s.iconButton,type:"button",onClick:j,"aria-label":n?"Hide repeat password":"Show repeat password",children:e.jsx(h,{className:s.icon,id:d?"icon-eye":"icon-eye-off",size:24})})]}),a.password&&e.jsx("p",{className:s.errorText,children:a.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:s.labelUp,children:"Repeat password"}),e.jsxs("div",{className:s.inputWrapper,children:[e.jsx("input",{...p("repeatPassword"),type:n?"text":"password",name:"repeatPassword",placeholder:"Repeat password",className:`${s.inputUp} ${a.repeatPassword?s.inputError:""}`}),e.jsx("button",{className:s.iconButton,type:"button",onClick:f,"aria-label":n?"Hide repeat password":"Show repeat password",children:e.jsx(h,{className:s.icon,id:n?"icon-eye":"icon-eye-off",size:24})})]}),a.repeatPassword&&e.jsx("p",{className:s.errorText,children:a.repeatPassword.message})]}),e.jsx("button",{type:"submit",className:s.btnUp,children:"Sign Up"})]}),i&&e.jsx("div",{className:`${s.notification} ${s[i.type]}`,children:i.message}),e.jsx("div",{children:e.jsxs("p",{className:s.textUp,children:["Already have account?"," ",e.jsx(k,{to:"/signin",className:s.linkUp,children:"Sign In"})]})})]})]})}const ae="_hidden_1sk8w_1",te="_signUp_1sk8w_11",x={hidden:ae,signUp:te};function pe(){return e.jsxs("div",{className:x.signUp,children:[e.jsx(se,{}),e.jsx("div",{className:x.hidden,children:e.jsx(F,{})})]})}export{pe as default};
//# sourceMappingURL=SignUpPage-CBF5o3Ou.js.map
