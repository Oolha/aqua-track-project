import{r as c,u as E,a as $,j as s,L as T,f as k}from"./index-D0jNm8ew.js";import{A as F}from"./AdvantagesSection-VQYhyyDY.js";import{c as I,a as l,b as R,u as q,I as _,o as B}from"./yup-DtQ5Yy5i.js";import{L}from"./Logo-DgugkbGl.js";const W="_containerUp_1pfgm_1",O="_formUp_1pfgm_9",A="_logo_1pfgm_20",C="_titleUp_1pfgm_24",V="_labelUp_1pfgm_34",z="_inputWrapper_1pfgm_44",H="_inputUp_1pfgm_49",D="_icon_1pfgm_69",M="_errorText_1pfgm_85",G="_btnUp_1pfgm_92",J="_textUp_1pfgm_112",K="_linkUp_1pfgm_121",Q="_iconButton_1pfgm_132",X="_inputError_1pfgm_144",Y="_notification_1pfgm_154",Z="_fadeInOut_1pfgm_1",ss="_success_1pfgm_173",es="_error_1pfgm_85",as="_info_1pfgm_183",ts="_warning_1pfgm_188",e={containerUp:W,formUp:O,logo:A,titleUp:C,labelUp:V,inputWrapper:z,inputUp:H,icon:D,errorText:M,btnUp:G,textUp:J,linkUp:K,iconButton:Q,inputError:X,notification:Y,fadeInOut:Z,success:ss,error:es,info:as,warning:ts},ns=I().shape({email:l().email("Invalid email format").min(3,"Enter a real email!").max(50,"Too Long!").required("Email is required"),password:l().min(4,"Enter a real password!").max(50,"Too long").required("Password is required"),repeatPassword:l().min(4,"Enter a real password!").max(50,"Too long").oneOf([R("password"),null],"Passwords must match!").required("Password is required")});function os(){const[d,f]=c.useState(!1),[o,h]=c.useState(!1),[i,r]=c.useState(null),x=E(),w=$(),U=()=>f(n=>!n),j=()=>h(n=>!n),{register:p,handleSubmit:b,formState:{errors:a},reset:N}=q({resolver:B(ns),mode:"onChange"}),y=async n=>{var m,u;console.log("Form data:",n);const{email:P,password:S}=n;try{const t=await w(k({email:P,password:S})).unwrap();N(),x("/tracker")}catch(t){const v=(t==null?void 0:t.message)||"Failed to sign up. Please try again.";r({message:((u=(m=t==null?void 0:t.response)==null?void 0:m.data)==null?void 0:u.message)||"Registration failed. Please try again.",type:"error"}),setTimeout(()=>r(null),8e3),r(v),setTimeout(()=>r(null),5e3)}};return s.jsxs("div",{className:e.containerUp,children:[s.jsx(L,{}),s.jsxs("div",{className:e.formUp,children:[s.jsx("h2",{className:e.titleUp,children:"Sign Up"}),s.jsxs("form",{onSubmit:b(y),noValidate:!0,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:e.labelUp,children:"Email"}),s.jsx("input",{...p("email"),type:"email",name:"email",placeholder:"Enter your email",className:`${e.inputUp} ${a.email?e.inputError:""}`})]}),a.email&&s.jsx("p",{className:e.errorText,children:a.email.message}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:e.labelUp,children:"Password"}),s.jsxs("div",{className:e.inputWrapper,children:[s.jsx("input",{...p("password"),type:d?"text":"password",name:"password",placeholder:"Enter your password",className:`${e.inputUp} ${a.password?e.inputError:""}  `}),s.jsx("button",{className:e.iconButton,type:"button",onClick:U,"aria-label":o?"Hide repeat password":"Show repeat password",children:s.jsx(_,{className:e.icon,id:d?"icon-eye":"icon-eye-off",size:24})})]}),a.password&&s.jsx("p",{className:e.errorText,children:a.password.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:e.labelUp,children:"Repeat password"}),s.jsxs("div",{className:e.inputWrapper,children:[s.jsx("input",{...p("repeatPassword"),type:o?"text":"password",name:"repeatPassword",placeholder:"Repeat password",className:`${e.inputUp} ${a.repeatPassword?e.inputError:""}`}),s.jsx("button",{className:e.iconButton,type:"button",onClick:j,"aria-label":o?"Hide repeat password":"Show repeat password",children:s.jsx(_,{className:e.icon,id:o?"icon-eye":"icon-eye-off",size:24})})]}),a.repeatPassword&&s.jsx("p",{className:e.errorText,children:a.repeatPassword.message})]}),s.jsx("button",{type:"submit",className:e.btnUp,children:"Sign Up"})]}),i&&s.jsx("div",{className:`${e.notification} ${e[i.type]}`,children:i.message}),s.jsx("div",{children:s.jsxs("p",{className:e.textUp,children:["Already have account?"," ",s.jsx(T,{to:"/signin",className:e.linkUp,children:"Sign In"})]})})]})]})}const rs="_hidden_1sk8w_1",is="_signUp_1sk8w_11",g={hidden:rs,signUp:is};function ms(){return s.jsxs("div",{className:g.signUp,children:[s.jsx(os,{}),s.jsx("div",{className:g.hidden,children:s.jsx(F,{})})]})}export{ms as default};
//# sourceMappingURL=SignUpPage-DQnD6vfG.js.map
