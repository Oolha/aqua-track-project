import{r as p,u as j,j as s,L as w}from"./index-BI1Dkrkj.js";import{c as N,a as _,o as b,d as S}from"./axios-Bq_52fM_.js";import{u as I,I as L}from"./index.esm-m19D1D9r.js";import{L as W}from"./Logo-Cs_TRt5H.js";import{A as E}from"./AdvantagesSection-ByDQoNTQ.js";const T="_loginContainer_1vnmy_1",k="_formWrapper_1vnmy_18",P="_title_1vnmy_25",$="_form_1vnmy_18",F="_field_1vnmy_41",M="_formLabel_1vnmy_54",C="_formInput_1vnmy_61",q="_error_1vnmy_81",B="_errorMessage_1vnmy_86",A="_iconEye_1vnmy_94",z="_formButton_1vnmy_104",D="_signinText_1vnmy_123",H="_signupLink_1vnmy_131",R="_passwordToggle_1vnmy_140",U="_passwordWrapper_1vnmy_152",V="_logo_1vnmy_163",G="_btnWrapper_1vnmy_214",J="_notification_1vnmy_247",e={loginContainer:T,formWrapper:k,title:P,form:$,field:F,formLabel:M,formInput:C,error:q,errorMessage:B,iconEye:A,formButton:z,signinText:D,signupLink:H,passwordToggle:R,passwordWrapper:U,logo:V,btnWrapper:G,notification:J,"fade-in":"_fade-in_1vnmy_1"},K=N({email:_().email("Invalid email format").required("Email is required"),password:_().min(8,"Password must be at least 8 characters").required("Password is required")});function O(){const[r,f]=p.useState(!1),[t,l]=p.useState(null),u=j(),x=()=>f(n=>!n),{register:c,handleSubmit:h,formState:{errors:o},reset:v}=I({resolver:b(K)}),y=async n=>{var m,d;try{const a=await S.post("https://example.com/api/signin",n),{token:i}=a.data;localStorage.setItem("authToken",i),v(),u("/tracker")}catch(a){const i=((d=(m=a.response)==null?void 0:m.data)==null?void 0:d.message)||"Failed to log in. Please try again.";l(i),setTimeout(()=>l(null),5e3)}};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:e.loginContainer,children:[s.jsx(W,{}),s.jsxs("div",{className:e.formWrapper,children:[s.jsx("h2",{className:e.title,children:"Sign In"}),s.jsxs("form",{onSubmit:h(y),className:e.form,children:[s.jsxs("div",{className:e.field,children:[s.jsx("label",{htmlFor:"email",className:e.formLabel,children:"Email"}),s.jsx("input",{...c("email"),type:"email",placeholder:"Enter your email",className:`${e.formInput} ${o.email?e.error:""}`}),o.email&&s.jsx("p",{className:e.errorMessage,children:o.email.message})]}),s.jsxs("div",{className:e.field,children:[s.jsx("label",{htmlFor:"password",className:e.formLabel,children:"Password"}),s.jsxs("div",{className:e.passwordWrapper,children:[s.jsx("input",{...c("password"),type:r?"text":"password",placeholder:"Enter your password",className:`${e.formInput} ${o.password?e.error:""}`}),o.password&&s.jsx("p",{className:e.errorMessage,children:o.password.message}),s.jsx("button",{type:"button",className:e.passwordToggle,onClick:x,"aria-label":r?"Hide password":"Show password",children:s.jsx(L,{id:r?"icon-eye":"icon-eye-off",size:20,className:e.iconEye})})]})]}),s.jsx("div",{className:e.btnWrapper,children:s.jsx("button",{type:"submit",className:e.formButton,children:"Sign In"})})]})]}),s.jsx("div",{children:s.jsxs("p",{className:e.signinText,children:["Don't have an account?"," ",s.jsx(w,{to:"/signup",className:e.signupLink,children:"Sign Up"})]})}),t&&s.jsx("div",{className:e.notification,children:t})]})})}const Q="_login_mp29j_1",g={login:Q};function os(){return s.jsxs("div",{className:g.login,children:[s.jsx(O,{}),s.jsx("div",{className:g.hidden,children:s.jsx(E,{})})]})}export{os as default};
//# sourceMappingURL=SignInPage-DRXnOLlW.js.map
