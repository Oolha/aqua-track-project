{"version":3,"file":"SignInPage-DMFHUKF-.js","sources":["../../src/components/SignIn/SignIn.jsx","../../src/pages/SignInPage/SignInPage.jsx"],"sourcesContent":["import { Link, useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport * as Yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useForm } from 'react-hook-form';\n// import axios from 'axios';\nimport { Icon } from '../Icon/Icon.jsx';\nimport Logo from '../../components/Logo/Logo.jsx';\nimport css from './SignIn.module.css'; // Стилі форми\nimport { useDispatch } from 'react-redux';\nimport { fetchSignIn } from '../../redux/auth/operations.js';\n\nconst schema = Yup.object({\n  email: Yup.string()\n    .email('Invalid email format')\n    .required('Email is required'),\n  password: Yup.string()\n    .min(8, 'Password must be at least 8 characters')\n    .required('Password is required'),\n});\n\nfunction SignInForm() {\n  const [showPwd, setShowPwd] = useState(false);\n  const [notification, setNotification] = useState(null); // Для повідомлень\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const togglePwdVisibility = () => setShowPwd((prev) => !prev);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = async (data) => {\n    try {\n      // const result = await dispatch(fetchSignIn(data)).unwrap();\n      await dispatch(fetchSignIn(data)).unwrap();\n\n      reset();\n      navigate('/tracker');\n    } catch (error) {\n      const errorMessage =\n        error?.message || 'Failed to log in. Please try again.';\n\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(null), 5000);\n    }\n  };\n\n  return (\n    <>\n      <div className={css.loginContainer}>\n        <Logo />\n        <div className={css.formWrapper}>\n          <h2 className={css.title}>Sign In</h2>\n          <form\n            onSubmit={handleSubmit(onSubmit)}\n            className={css.form}\n            noValidate\n          >\n            <div className={css.field}>\n              <label htmlFor=\"email\" className={css.formLabel}>\n                Email\n              </label>\n              <input\n                {...register('email')}\n                type=\"email\"\n                placeholder=\"Enter your email\"\n                className={`${css.formInput} ${errors.email ? css.error : ''}`}\n              />\n              {errors.email && (\n                <p className={css.errorMessage}>{errors.email.message}</p>\n              )}\n            </div>\n\n            <div className={css.field}>\n              <label htmlFor=\"password\" className={css.formLabel}>\n                Password\n              </label>\n              <div className={css.passwordWrapper}>\n                <input\n                  {...register('password')}\n                  type={showPwd ? 'text' : 'password'}\n                  placeholder=\"Enter your password\"\n                  className={`${css.formInput} ${\n                    errors.password ? css.error : ''\n                  }`}\n                />\n\n                <button\n                  type=\"button\"\n                  className={css.passwordToggle}\n                  onClick={togglePwdVisibility}\n                  aria-label={showPwd ? 'Hide password' : 'Show password'}\n                >\n                  <Icon\n                    id={showPwd ? 'icon-eye' : 'icon-eye-off'}\n                    size={20}\n                    className={css.iconEye}\n                  />\n                </button>\n              </div>\n            </div>\n            {errors.password && (\n              <p className={css.errorMessage}>{errors.password.message}</p>\n            )}\n            <div className={css.btnWrapper}>\n              <button type=\"submit\" className={css.formButton}>\n                Sign In\n              </button>\n            </div>\n          </form>\n\n          <div>\n            <p className={css.signinText}>\n              Don&apos;t have an account?{' '}\n              <Link to=\"/signup\" className={css.signupLink}>\n                Sign Up\n              </Link>\n            </p>\n          </div>\n        </div>\n\n        {notification && <div className={css.notification}>{notification}</div>}\n      </div>\n    </>\n  );\n}\n\nexport default SignInForm;\n","import SignInForm from '../../components/SignIn/SignIn.jsx';\nimport css from './SignInPage.module.css';\nimport AdvantagesSection from '../../components/AdvantagesSection/AdvantagesSection.jsx';\n\nfunction SignInPage() {\n  return (\n    <div className={css.login}>\n      <SignInForm />\n      <div className={css.advantages}>\n        <AdvantagesSection />\n      </div>\n    </div>\n  );\n}\n\nexport default SignInPage;\n\n// // export default SignInPage;\n// import SignInForm from \"../../components/SignIn/SignIn.jsx\";\n// import AdvantagesSection from \"../../components/AdvantagesSection/AdvantagesSection.jsx\";\n// // import { Toaster } from \"react-hot-toast\";\n\n// const SignInPage = () => {\n//   return (\n//     <>\n//       <div>\n//         <SignInForm />\n//       </div>\n//       <div className=\"advantages-section\">\n//   <AdvantagesSection />\n// </div>\n//       {/* <Toaster position=\"top-right\" /> */}\n//     </>\n//   );\n// };\n\n// export default SignInPage;"],"names":["schema","Yup.object","Yup.string","SignInForm","showPwd","setShowPwd","useState","notification","setNotification","navigate","useNavigate","dispatch","useDispatch","togglePwdVisibility","prev","register","handleSubmit","errors","reset","useForm","yupResolver","onSubmit","data","fetchSignIn","error","errorMessage","jsx","Fragment","jsxs","css","Logo","Icon","Link","SignInPage","AdvantagesSection"],"mappings":"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"}